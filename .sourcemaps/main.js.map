{"version":3,"sources":["../../src/model/innovation.ts","../../src/model/base_model.ts","../../src/pages/template/show_list_detail.component.ts","../../src/pages/template/show_list.component.ts","../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/pages/tabs/tabs.component.ts","../../src/pages/contact/contact.ts","../../src/pages/settlements/settlements.component.ts","../../src/model/settlement.ts","../../src/pages/settlement/settlement.component.ts","../../src/pages/timeline/timeline.component.ts","../../src/pages/defeated_monster/defeated_monster.component.ts","../../src/pages/defeated_monster/defeated_monster_modal.component.ts","../../src/service/kdm_calculation.service.ts","../../src/util/json_to_object_converter.ts","../../src/model/storage.ts","../../src/model/visitor/comparable_visitor.ts","../../src/pages/storage/storage.component.ts","../../src/pages/storage/storage_modal.component.ts","../../src/model/survivor.ts","../../src/pages/template/show_list_add_modal.component.ts","../../src/pages/principle/principles.component.ts","../../src/pages/principle/principle_chooser.component.ts","../../src/service/kdm_observer.service.ts","../../src/model/linking/settlement_milestone.ts","../../src/pages/survivors/survivors.component.ts","../../src/pages/survivor/survivor.component.ts","../../src/service/kdm_db.service.ts","../../src/service/kdm_init_db.service.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/service/kdm_data.service.ts","../../src/app/app.component.ts","../../src/model/monster.ts","../../src/model/resource.ts","../../src/model/milestone.ts","../../src/model/lantern_event.ts","../../src/model/visitor/greater_than.ts","../../src/model/visitor/less_than.ts","../../src/model/visitor/less_than_euqals.ts","../../src/model/visitor/equals.ts","../../src/model/visitor/greater_than_equals.ts","../../src/model/linking/hunted_monster.ts","../../src/model/principle.ts","../../src/model/linking/settlement_timeline.ts","../../src/model/linking/settlement_lantern_event.ts","../../src/model/linking/huntable_monster.ts","../../src/pages/popover/create_settlement_popover.component.ts","../../src/pipe/add_linebreak_to_punctuation.pipe.ts","../../src/directive/autoresize_textarea.directive.ts","../../src/pages/template/input_number.component.ts","../../src/pages/timeline/timeline_event_modal.component.ts","../../src/model/show_list_types.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { BaseModel } from './base_model';\n\n/**\n * Created by Daniel on 19.02.2017.\n */\nexport class Innovation extends BaseModel {\n  consequence: InnovationTag;\n  tags: InnovationTag[];\n  isBase: boolean;\n}\n\nexport enum InnovationTag {\n  ART,\n  EDUCATION,\n  FAITH,\n  HOME,\n  MUSIC,\n  OTHER,\n  SCIENCE,\n  STARTING_INNOVATION,\n  AMMONIA_CONSEQUENCE,\n  DRUMS_CONSEQUENCE,\n  FAMILY_CONSEQUENCE,\n  FORBIDDEN_DANCE_CONSEQUENCE,\n  HOVEL_CONSEQUENCE,\n  INNER_LANTERN_CONSEQUENCE,\n  LANGUAGE_CONSEQUENCE,\n  LANTERN_OVEN_CONSEQUENCE,\n  SCULPURE_CONSEQUENCE,\n  SHRINE_CONSEQUENCE,\n  STORYTELLING_CONSEQUENCE,\n  SONG_OF_THE_BRAVE_CONSEQUENCE,\n  SYMPOSIUM_CONSEQUENCE,\n  PAINT_CONSEQUENCE,\n  PICTOGRAPH_CONSEQUENCE,\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/model/innovation.ts","/**\r\n * Created by Daniel on 16.03.2017.\r\n */\r\nexport class BaseModel {\r\n  name: string;\r\n  description: string;\r\n\r\n  constructor(name: string, description: string) {\r\n    this.name = name;\r\n    this.description = description;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/model/base_model.ts","import { Component } from '@angular/core';\r\nimport { ViewController, NavParams } from 'ionic-angular';\r\nimport { KDMDataService } from '../../service/kdm_data.service';\r\nimport { BaseModel } from '../../model/base_model';\r\n/**\r\n * Created by Daniel on 16.03.2017.\r\n */\r\n@Component({\r\n  selector: 'kdmf-show-list-detail',\r\n  templateUrl: 'show_list_detail.component.html',\r\n})\r\nexport class ShowListDetailComponent {\r\n\r\n  object: BaseModel;\r\n\r\n  constructor(public viewCtrl: ViewController, private params: NavParams, private kdmData: KDMDataService) {\r\n    this.object = this.params.get('object');\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/template/show_list_detail.component.ts","import { Component, OnInit } from '@angular/core';\r\nimport { NavController, NavParams, ModalController } from 'ionic-angular';\r\nimport { ShowListAddModalComponent } from './show_list_add_modal.component';\r\nimport { ShowListTypes } from '../../model/show_list_types';\r\nimport { BaseModel } from '../../model/base_model';\r\nimport { ShowListDetailComponent } from './show_list_detail.component';\r\n/**\r\n * Created by Daniel on 16.03.2017.\r\n */\r\n@Component({\r\n  selector: 'kdmf-show-list',\r\n  templateUrl: 'show_list.component.html',\r\n})\r\nexport class ShowListComponent implements OnInit {\r\n\r\n  objects: BaseModel[];\r\n  type: ShowListTypes;\r\n  title: string;\r\n\r\n  constructor(public navCtrl: NavController, public params: NavParams, public modalCtrl: ModalController) {\r\n    this.objects = params.get('objects');\r\n    this.type = params.get('type');\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.setup();\r\n  }\r\n\r\n  addObject(): void {\r\n    let modal = this.modalCtrl.create(ShowListAddModalComponent, {\r\n      objects: this.objects,\r\n      type: this.type,\r\n    });\r\n    modal.present();\r\n  }\r\n\r\n  removeObject(object: BaseModel): void {\r\n    const index = this.objects.findIndex(x => x === object);\r\n    this.objects.splice(index, 1);\r\n  }\r\n\r\n  showDetail(object: BaseModel): void {\r\n    this.navCtrl.push(ShowListDetailComponent, {\r\n      object: object,\r\n    }).then();\r\n  }\r\n\r\n  private setup(): void {\r\n    switch (this.type) {\r\n      case ShowListTypes.FightingArt:\r\n        this.title = 'Fighting Arts';\r\n        break;\r\n      case ShowListTypes.Disorder:\r\n        this.title = 'Disorders';\r\n        break;\r\n      case ShowListTypes.Innovation:\r\n        this.title = 'Innovations';\r\n        break;\r\n      case ShowListTypes.Location:\r\n        this.title = 'Locations';\r\n        break;\r\n    }\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/template/show_list.component.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 146;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 146\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 189;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 189\n// module chunks = 0","import { Component } from '@angular/core';\n\nimport { ContactPage } from '../contact/contact';\nimport { SettlementsPageComponent } from '../settlements/settlements.component';\nimport { SurvivorsPageComponent } from '../survivors/survivors.component';\n\n@Component({\n  templateUrl: 'tabs.component.html',\n})\nexport class TabsPageComponent {\n  // this tells the tabs component which Pages\n  // should be each tab's root Page\n  tab1Root: any = SettlementsPageComponent;\n  tab2Root: any = SurvivorsPageComponent;\n  tab3Root: any = ContactPage;\n\n  constructor() {\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs/tabs.component.ts","import { Component } from '@angular/core';\n\nimport { NavController } from 'ionic-angular';\n\n@Component({\n  selector: 'kdmf-page-contact',\n  templateUrl: 'contact.html',\n})\nexport class ContactPage {\n\n  constructor(public navCtrl: NavController) {\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/contact/contact.ts","import { NavController, AlertController } from 'ionic-angular';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { Settlement } from '../../model/settlement';\r\nimport { SettlementPageComponent } from '../settlement/settlement.component';\r\nimport { KDMDataService } from '../../service/kdm_data.service';\r\nimport { InnovationTag } from '../../model/innovation';\r\nimport { SettlementTimeline } from '../../model/linking/settlement_timeline';\r\nimport { SettlementMilestone } from '../../model/linking/settlement_milestone';\r\nimport { HuntableMonster } from '../../model/linking/huntable_monster';\r\n\r\n/**\r\n * Created by Daniel on 27.01.2017.\r\n */\r\n\r\n@Component({\r\n  selector: 'kdmf-page-settlements',\r\n  templateUrl: 'settlements.component.html',\r\n})\r\nexport class SettlementsPageComponent implements OnInit {\r\n  settlements: Settlement[] = [];\r\n\r\n  constructor(public navCtrl: NavController, private alertCtrl: AlertController, private kdmService: KDMDataService) {\r\n  }\r\n\r\n  addSettlement(): void {\r\n    let settlement = this.createDefaultSettlement();\r\n    this.kdmService.addSettlement(settlement);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.kdmService.getSettlements().then(settlements => this.settlements = settlements);\r\n  }\r\n\r\n  goToDetail(settlement: Settlement): void {\r\n    this.navCtrl.push(SettlementPageComponent, {\r\n      settlement,\r\n    }).then();\r\n  }\r\n\r\n  removeSettlement(settlement: Settlement): void {\r\n    const alert = this.alertCtrl.create({\r\n      title: 'Confirm deletion',\r\n      message: 'Do you want to delete ' + settlement.name + '?',\r\n      buttons: [\r\n        {\r\n          text: 'Cancel',\r\n          role: 'cancel',\r\n          handler: () => {\r\n          },\r\n        },\r\n        {\r\n          text: 'Yes',\r\n          handler: () => {\r\n            this.kdmService.removeSettlement(settlement);\r\n          },\r\n        },\r\n      ],\r\n    });\r\n    alert.present();\r\n  }\r\n\r\n  private createDefaultSettlement(): Settlement {\r\n    // TODO probably export settlement creation to wizard or something similar\r\n    let settlement: Settlement = new Settlement('New Settlement');\r\n    this.createDefaultTimeline(settlement);\r\n    this.createDefaultNemesisMonsters(settlement);\r\n    this.createDefaultMilestoneStoryEvents(settlement);\r\n    this.createDefaultQuarries(settlement);\r\n    this.createDefaultSettlementLocations(settlement);\r\n    this.createDefaultInnovations(settlement);\r\n    return settlement;\r\n  }\r\n\r\n  private createDefaultTimeline(settlement: Settlement): void {\r\n    this.kdmService.getDefaultTimeline().then(timelines => {\r\n      timelines.forEach(timeline => {\r\n        settlement.timeline.push(new SettlementTimeline(settlement, timeline));\r\n      });\r\n    });\r\n  }\r\n\r\n  private createDefaultNemesisMonsters(settlement: Settlement): void {\r\n    this.kdmService.getDefaultInitialHuntableNemesisMonsters().then(nemesisMonsters =>\r\n      nemesisMonsters.forEach(nemesisMonster => {\r\n          const existingMonster = settlement.huntableMonsters.find(huntableMonster =>\r\n            huntableMonster.monster.name === nemesisMonster.name);\r\n          if (!existingMonster) {\r\n            const settlementMonster = new HuntableMonster(settlement, nemesisMonster);\r\n            if (nemesisMonster.name === 'Butcher') {\r\n              settlementMonster.isHuntable = true;\r\n            }\r\n            settlement.huntableMonsters.push(settlementMonster);\r\n          }\r\n        },\r\n      )).catch(error => {\r\n      console.log('Error in default nemesis');\r\n      console.log(error);\r\n    });\r\n  }\r\n\r\n  private createDefaultMilestoneStoryEvents(settlement: Settlement): void {\r\n    this.kdmService.getInitialMilestones().then(\r\n      milestones => {\r\n        milestones.forEach(\r\n          milestone => settlement.milestones.push(new SettlementMilestone(settlement, milestone)))\r\n      });\r\n  }\r\n\r\n  private createDefaultQuarries(settlement: Settlement): void {\r\n    this.kdmService.getDefaultInitialHuntableQuarries().then(quarries => quarries.forEach(quarry => {\r\n        const existingMonster = settlement.huntableMonsters.find(huntableMonster =>\r\n          huntableMonster.monster.name === quarry.name);\r\n        if (!existingMonster) {\r\n          const settlementMonster = new HuntableMonster(settlement, quarry);\r\n          if (quarry.name === 'White Lion') {\r\n            settlementMonster.isHuntable = true;\r\n          }\r\n          settlement.huntableMonsters.push(settlementMonster);\r\n        }\r\n      },\r\n    )).catch(error => {\r\n      console.log('Error in default quarries');\r\n      console.log(error);\r\n    });\r\n  }\r\n\r\n  private createDefaultSettlementLocations(settlement: Settlement): void {\r\n    this.kdmService.getSettlementLocations().then(locations =>\r\n      settlement.locations = locations.filter(location => location.isStartLocation));\r\n  }\r\n\r\n  private createDefaultInnovations(settlement: Settlement): void {\r\n    this.kdmService.getInnovations().then(innovations =>\r\n      settlement.innovations = innovations.filter(innovation =>\r\n        innovation.tags.indexOf(InnovationTag.STARTING_INNOVATION) > -1),\r\n    );\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settlements/settlements.component.ts","import { Location } from './location';\r\nimport { Storage } from './storage';\r\nimport { Innovation } from './innovation';\r\nimport { Survivor } from './survivor';\r\nimport { SettlementTimeline } from './linking/settlement_timeline';\r\nimport { SettlementMilestone } from './linking/settlement_milestone';\r\nimport { Principle } from './principle';\r\nimport { HuntableMonster } from './linking/huntable_monster';\r\nimport { HuntedMonster } from './linking/hunted_monster';\r\n/**\r\n * Created by Daniel on 27.01.2017.\r\n */\r\nexport class Settlement {\r\n  id: number;\r\n  name: string;\r\n  survivalLimit: number = 0;\r\n  population: number = 0;\r\n  deathcount: number = 0;\r\n  settlementLost: number = 0;\r\n  timeline: SettlementTimeline[] = [];\r\n  huntableMonsters: HuntableMonster[] = [];\r\n  huntedMonsters: HuntedMonster[] = [];\r\n  locations: Location[] = [];\r\n  storages: Storage[] = [];\r\n  innovations: Innovation[] = [];\r\n  survivors: Survivor[] = [];\r\n  milestones: SettlementMilestone[] = [];\r\n  principles: Principle[] = [];\r\n\r\n  constructor(name: string) {\r\n    this.name = name;\r\n  }\r\n\r\n  public addStorageItem(storage: Storage): void {\r\n    if (!storage) {\r\n      console.log('Settlement - addStorageItem: Storage is null');\r\n      return;\r\n    }\r\n    const str = this.storages.find(storageL => storageL.name === storage.name);\r\n    if (str) {\r\n      str.amount++;\r\n    } else {\r\n      storage.amount = 1;\r\n      this.storages.push(storage);\r\n    }\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/model/settlement.ts","import { Component, Input, OnInit } from '@angular/core';\r\nimport { NavController, NavParams, ModalController } from 'ionic-angular';\r\nimport { Settlement } from '../../model/settlement';\r\nimport { TimelineEventModalComponent } from '../timeline/timeline_event_modal.component';\r\nimport { TimelinePageComponent } from '../timeline/timeline.component';\r\nimport { DefeatedMonsterPageComponent } from '../defeated_monster/defeated_monster.component';\r\nimport { StoragePageComponent } from '../storage/storage.component';\r\nimport { InnovationPageComponent } from '../innovation/innovation.component';\r\nimport { Survivor } from '../../model/survivor';\r\nimport { ShowListComponent } from '../template/show_list.component';\r\nimport { ShowListTypes } from '../../model/show_list_types';\r\nimport { SettlementLanternEvent } from '../../model/linking/settlement_lantern_event';\r\nimport { PrinciplesPageComponent } from '../principle/principles.component';\r\nimport { Subject } from 'rxjs/Subject';\r\nimport { KDMObserverService } from '../../service/kdm_observer.service';\r\n/**\r\n * Created by Daniel on 27.01.2017.\r\n */\r\n@Component({\r\n  selector: 'kdmf-page-settlement',\r\n  templateUrl: 'settlement.component.html',\r\n})\r\nexport class SettlementPageComponent implements OnInit {\r\n\r\n  population: Subject<number> = new Subject<number>();\r\n  deathcount: Subject<number> = new Subject<number>();\r\n\r\n  @Input()\r\n  settlement: Settlement;\r\n\r\n  constructor(public navCtrl: NavController, public modalCtrl: ModalController, public params: NavParams,\r\n              private kdmObserver: KDMObserverService) {\r\n    if (params.get('settlement')) {\r\n      this.settlement = params.get('settlement');\r\n      this.settlement.milestones.forEach(milestone => kdmObserver.registerObserverForMilestone(this, milestone));\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  showTimeline(): void {\r\n    this.navCtrl.push(TimelinePageComponent, {\r\n      settlementTimeline: this.settlement.timeline,\r\n    }).then();\r\n  }\r\n\r\n  showDefeatedMonsters(): void {\r\n    this.navCtrl.push(DefeatedMonsterPageComponent, {\r\n      settlement: this.settlement,\r\n    }).then();\r\n  }\r\n\r\n  showInnovations(): void {\r\n    this.navCtrl.push(ShowListComponent, {\r\n      objects: this.settlement.innovations,\r\n      type: ShowListTypes.Innovation,\r\n    }).then();\r\n  }\r\n\r\n  showPrinciples(): void {\r\n    this.navCtrl.push(PrinciplesPageComponent, {\r\n      settlement: this.settlement,\r\n    }).then();\r\n  }\r\n\r\n  showSettlementLocations(): void {\r\n    this.navCtrl.push(ShowListComponent, {\r\n      objects: this.settlement.locations,\r\n      type: ShowListTypes.Location,\r\n    }).then();\r\n  }\r\n\r\n  showStorage(): void {\r\n    this.navCtrl.push(StoragePageComponent, {\r\n      settlement: this.settlement,\r\n    }).then();\r\n  }\r\n\r\n  eventReached(event: Event, lanternEvent: SettlementLanternEvent): void {\r\n    if (lanternEvent.reached) {\r\n      let popover = this.modalCtrl.create(TimelineEventModalComponent, {\r\n        lanternEvent: lanternEvent.lanternEvent,\r\n      });\r\n      popover.present({\r\n        ev: event,\r\n      });\r\n    }\r\n  }\r\n\r\n  survivalLimitChange(event): void {\r\n    if (typeof event === 'number') {\r\n      this.settlement.survivalLimit = event;\r\n    }\r\n  }\r\n\r\n  settlementLostChange(event): void {\r\n    if (typeof event === 'number') {\r\n      this.settlement.settlementLost = event;\r\n    }\r\n  }\r\n\r\n  deathcountChange(event): void {\r\n    if (typeof event === 'number') {\r\n      this.deathcount.next(event);\r\n      this.settlement.deathcount = event;\r\n    }\r\n  }\r\n\r\n  populationChange(event): void {\r\n    if (typeof event === 'number') {\r\n      const settlement = this.settlement;\r\n      this.population.next(event);\r\n      this.settlement.population = event;\r\n      if (settlement.survivors.length < this.settlement.population) {\r\n        this.addSurvivor();\r\n      }\r\n      this.populationChecker();\r\n    }\r\n  }\r\n\r\n  addSurvivor(): void {\r\n    this.settlement.survivors.push(new Survivor('Survivor ' + Survivor.counter));\r\n  }\r\n\r\n  populationChecker(): void {\r\n    const survivors = this.settlement.survivors.length;\r\n    const population = this.settlement.population;\r\n    if (survivors <= population) {\r\n      const difference = population - survivors;\r\n      for (let i = 0; i < difference; i++) {\r\n        this.addSurvivor();\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settlement/settlement.component.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams, ModalController } from 'ionic-angular';\nimport { Timeline } from '../../model/timeline';\nimport { TimelineEventModalComponent } from './timeline_event_modal.component';\nimport { SettlementTimeline } from '../../model/linking/settlement_timeline';\n/**\n * Created by Daniel on 12.02.2017.\n */\n@Component({\n  selector: 'kdmf-page-timeline',\n  templateUrl: 'timeline.component.html',\n})\nexport class TimelinePageComponent {\n  timeline: SettlementTimeline;\n\n  constructor(public navCtrl: NavController, public params: NavParams, public modalCtrl: ModalController) {\n    this.timeline = params.get('settlementTimeline');\n  }\n\n  timelineReached(event: Event, timeline: SettlementTimeline): void {\n    if (timeline.timeline.lanternEvent != null && timeline.reached) {\n      let modal = this.modalCtrl.create(TimelineEventModalComponent, {\n        lanternEvent: timeline.timeline.lanternEvent,\n      });\n      modal.present({\n        ev: event,\n      });\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/timeline/timeline.component.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams, ModalController } from 'ionic-angular';\nimport { DefeatedMonsterModalComponent } from './defeated_monster_modal.component';\nimport { Settlement } from '../../model/settlement';\nimport { HuntedMonster } from '../../model/linking/hunted_monster';\n/**\n * Created by Daniel on 12.02.2017.\n */\n@Component({\n  selector: 'kdmf-page-defeated-monster',\n  templateUrl: 'defeated_monster.component.html',\n})\nexport class DefeatedMonsterPageComponent {\n\n  settlement: Settlement;\n\n  constructor(public navCtrl: NavController, public params: NavParams, public modalCtrl: ModalController) {\n    this.settlement = params.get('settlement');\n  }\n\n  addDefeatedMonster(): void {\n    let modal = this.modalCtrl.create(DefeatedMonsterModalComponent, {\n      settlement: this.settlement,\n    });\n    modal.present();\n  }\n\n  removeDefeatedMonster(huntedMonster: HuntedMonster): void {\n    const index = this.settlement.huntedMonsters.findIndex(hMonster => hMonster === huntedMonster);\n    this.settlement.huntableMonsters.splice(index, 1);\n    // todo check and change isDefeatedLvl\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/defeated_monster/defeated_monster.component.ts","import { Component, OnInit } from '@angular/core';\nimport { ViewController, NavParams } from 'ionic-angular';\nimport { Settlement } from '../../model/settlement';\nimport { Monster } from '../../model/monster';\nimport { KDMCalculationService } from '../../service/kdm_calculation.service';\nimport { HuntableMonster } from '../../model/linking/huntable_monster';\nimport { HuntedMonster } from '../../model/linking/hunted_monster';\n/**\n * Created by Daniel on 07.02.2017.\n */\n@Component({\n  selector: 'kdmf-defeated-monster-modal',\n  templateUrl: 'defeated_monster_modal.component.html',\n})\nexport class DefeatedMonsterModalComponent implements OnInit {\n\n  settlement: Settlement;\n  huntableMonsters: HuntableMonster[] = [];\n  monsterLevel: number = 1;\n  monsterName: string;\n  huntResources: boolean;\n\n  constructor(public viewCtrl: ViewController, private params: NavParams,\n              private kdmCalculation: KDMCalculationService) {\n    console.log('DefeatedMonsterModalComponent');\n    this.settlement = this.params.get('settlement');\n  }\n\n  ngOnInit(): void {\n    this.setupHuntableMonsters();\n  }\n\n  close(): void {\n    this.viewCtrl.dismiss();\n  }\n\n  addClose(): void {\n    if (this.monsterName != null && this.monsterLevel != null) {\n      const monsterOrig = this.huntableMonsters.find(huntableMonster =>\n      huntableMonster.monster.name === this.monsterName).monster;\n      const mon = new Monster(this.monsterName);\n      mon.level = +this.monsterLevel;\n      const huntedMonster = new HuntedMonster(this.settlement, mon);\n      if (this.huntResources) {\n        this.kdmCalculation.addResourcesFromKilledMonster(huntedMonster, monsterOrig);\n      }\n      this.settlement.huntedMonsters.push(huntedMonster);\n    }\n\n    this.close();\n  }\n\n  private setupHuntableMonsters(): void {\n    this.settlement.huntableMonsters.filter(huntableMonster => huntableMonster.isHuntable).forEach(monster => {\n        if (monster.isHuntable) {\n          this.huntableMonsters.push(monster);\n        }\n      },\n    );\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/defeated_monster/defeated_monster_modal.component.ts","import { Injectable } from '@angular/core';\r\nimport { Monster } from '../model/monster';\r\nimport { Storage } from '../model/storage';\r\nimport { KDMDataService } from './kdm_data.service';\r\nimport { Resource, ResourceType } from '../model/resource';\r\nimport { HuntedMonster } from '../model/linking/hunted_monster';\r\n/**\r\n * Created by Daniel on 18.02.2017.\r\n */\r\n@Injectable()\r\nexport class KDMCalculationService {\r\n  factorials: number[] = [];\r\n\r\n  constructor(private kdmData: KDMDataService) {\r\n  }\r\n\r\n  addResourcesFromKilledMonster(huntedMonster: HuntedMonster, originalMonster: Monster): void {\r\n    originalMonster.resources.forEach(monsterResource => {\r\n      if (monsterResource.resource) {\r\n        huntedMonster.huntedResources = this.getAllStorageItems(monsterResource.resource, monsterResource.amount);\r\n        huntedMonster.huntedResources.forEach(str => {\r\n          huntedMonster.settlement.addStorageItem(str);\r\n        });\r\n      } else if (monsterResource.resource != null && monsterResource.resource.type >= 0) {\r\n        this.getAllResourceCardsFromType(monsterResource.resource.type).then(storages => {\r\n          huntedMonster.huntedResources = this.getRandomizedResourceCards(storages, monsterResource.amount);\r\n          huntedMonster.huntedResources.forEach(storage => {\r\n            huntedMonster.settlement.addStorageItem(storage);\r\n          });\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param storageItem\r\n   * @param amount\r\n   * @returns {Storage[]}\r\n   */\r\n  private getAllStorageItems(storageItem: Storage, amount: number): Storage[] {\r\n    const storages: Storage[] = [];\r\n    for (let i: number = 0; i < amount; i++) {\r\n      storages.push(storageItem);\r\n    }\r\n    return storages;\r\n  }\r\n\r\n  /**\r\n   * Get all existing cards from a specific resource type\r\n   * @param resourceType\r\n   * @returns {Storage[]}\r\n   */\r\n  private getAllResourceCardsFromType(resourceType: ResourceType): Promise<Storage[]> {\r\n    const storages: Storage[] = [];\r\n    const resources: Resource[] = [];\r\n    this.kdmData.getResources().then(res => {\r\n        res.forEach(resource => {\r\n          if (resource.type === resourceType) {\r\n            resources.push(resource);\r\n          }\r\n        });\r\n        resources.forEach(resource => {\r\n          for (let i = 0; i < resource.existingCards; i++) {\r\n            storages.push(resource);\r\n          }\r\n        });\r\n      },\r\n    );\r\n\r\n    return Promise.resolve(storages);\r\n  }\r\n\r\n  /**\r\n   * Randomize add of resource cards depending of the maximum cards to select.\r\n   * Also depending of the maximum existing cards inside the game.\r\n   * @param allStorageItems Array of Storage Items to select from\r\n   * @param maxAmount Maximum cards to select\r\n   * @returns {Storage[]}\r\n   */\r\n  private getRandomizedResourceCards(allStorageItems: Storage[], maxAmount: number): Storage[] {\r\n    const storages: Storage[] = [];\r\n    if (!allStorageItems || allStorageItems.length < 1) {\r\n      console.log('KDMCalculationService - getRandomizedResourceCards: allStorageItems is null or empty');\r\n      return storages;\r\n    }\r\n    for (let i: number = 0; i < maxAmount; i++) {\r\n      const start: number = Math.floor(Math.random() * allStorageItems.length);\r\n      const rand: Storage[] = allStorageItems.slice(start, start + 1);\r\n      storages.push(rand[0]);\r\n    }\r\n\r\n    return storages;\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/service/kdm_calculation.service.ts","import { Settlement } from '../model/settlement';\r\nimport { Monster } from '../model/monster';\r\nimport { Resource, ResourceType } from '../model/resource';\r\nimport { MonsterResource } from '../model/linking/monster_resource';\r\nimport { HuntableMonster } from '../model/linking/huntable_monster';\r\nimport { HuntedMonster } from '../model/linking/hunted_monster';\r\nimport { Milestone } from '../model/milestone';\r\nimport { StoryEvent } from '../model/story_event';\r\nimport { Principle, PrincipleType } from '../model/principle';\r\nimport { FightingArt } from '../model/fighting_art';\r\nimport { Disorder } from '../model/disorder';\r\nimport { Innovation, InnovationTag } from '../model/innovation';\r\nimport { Location } from '../model/location';\r\nimport { StorageTag } from '../model/storage';\r\nimport { LanternEvent } from '../model/lantern_event';\r\nimport { Timeline } from '../model/timeline';\r\n\r\n/**\r\n * Created by Daniel on 31.05.2017.\r\n */\r\nexport class JsonToObjectConverter {\r\n\r\n  public static convertToSettlementObject(settlementJSON: any): Settlement {\r\n    const settlement: Settlement = {\r\n      id: settlementJSON.ID,\r\n      name: settlementJSON.Name,\r\n      survivalLimit: settlementJSON.SurvivalLimit,\r\n      population: settlementJSON.Population,\r\n      deathcount: settlementJSON.DeathCount,\r\n      settlementLost: settlementJSON.SettlementLost,\r\n      timeline: null,\r\n      huntableMonsters: null,\r\n      huntedMonsters: null,\r\n      locations: null,\r\n      storages: null,\r\n      innovations: null,\r\n      survivors: null,\r\n      milestones: null,\r\n      principles: null,\r\n      addStorageItem: null,\r\n    };\r\n    return settlement;\r\n  }\r\n\r\n  public static convertToMonsterObject(monsterJSON: any): Monster {\r\n    const monster: Monster = {\r\n      id: monsterJSON.id,\r\n      name: monsterJSON.name,\r\n      level: monsterJSON.level,\r\n      isNemesis: monsterJSON.isNemesis,\r\n      resources: null,\r\n      locations: null,\r\n    };\r\n    return monster;\r\n  }\r\n\r\n  public static convertToHuntableMonsterObject(huntableMonsterJSON: any): HuntableMonster {\r\n    const huntableMonster: HuntableMonster = {\r\n      monster: null, // todo MonsterID\r\n      settlement: null, // todo SettlementID\r\n      defeatedLevelOne: huntableMonsterJSON.DefeatedLevelOne === 'true',\r\n      defeatedLevelTwo: huntableMonsterJSON.DefeatedLevelTwo === 'true',\r\n      defeatedLevelThree: huntableMonsterJSON.DefeatedLevelThree === 'true',\r\n      isHuntable: huntableMonsterJSON.IsHuntable === 'true',\r\n    };\r\n    return huntableMonster;\r\n  }\r\n\r\n  public static convertToHuntedMonsterObject(huntedMonsterJSON: any): HuntedMonster {\r\n    const huntedMonster: HuntedMonster = {\r\n      monster: null, // todo MonsterID\r\n      settlement: null, // todo SettlementID\r\n      huntedResources: null,\r\n    };\r\n    return huntedMonster;\r\n  }\r\n\r\n  public static converToResourceObject(resourceJSON: any, tags: StorageTag[]): Resource {\r\n    let resourceType: ResourceType = <ResourceType>ResourceType[<string>resourceJSON.type];\r\n    const resource: Resource = {\r\n      name: resourceJSON.name,\r\n      type: resourceType,\r\n      description: resourceJSON.description,\r\n      existingCards: resourceJSON.existingCards,\r\n      tags: tags,\r\n      amount: resourceJSON.amount,\r\n    };\r\n    return resource;\r\n  }\r\n\r\n  public static convertToMonsterResourceObject(monsterResourceJSON: any): MonsterResource {\r\n    const monsterResource: MonsterResource = {\r\n      monster: null, // todo MonsterID\r\n      resource: null, // todo ResourceName\r\n      amount: monsterResourceJSON.Amount,\r\n    };\r\n    return monsterResource;\r\n  }\r\n\r\n  public static convertToMilestoneObject(milestoneJSON: any, storyEvents: StoryEvent[]): Milestone {\r\n    const milestone: Milestone = new Milestone(milestoneJSON.comparator);\r\n    milestone.id = milestoneJSON.id;\r\n    milestone.name = milestoneJSON.name;\r\n    milestone.value = milestoneJSON.value;\r\n    milestone.observerTarget = milestoneJSON.observerTarget;\r\n    milestone.tag = milestoneJSON.tag;\r\n    milestone.storyEvents = storyEvents;\r\n    return milestone;\r\n  }\r\n\r\n  public static convertToLanternEventObject(lanternEventJSON: any, storyEvents: StoryEvent[]): LanternEvent {\r\n    const lanternEvent: LanternEvent = {\r\n      name: lanternEventJSON.name,\r\n      todo: lanternEventJSON.todo,\r\n      storyEvents: storyEvents,\r\n    };\r\n    return lanternEvent;\r\n  }\r\n\r\n  public static convertToStoryEventObject(storyEventJSON: any): StoryEvent {\r\n    const storyEvent: StoryEvent = {\r\n      id: storyEventJSON.id,\r\n      title: storyEventJSON.title,\r\n      description: storyEventJSON.description,\r\n    };\r\n    return storyEvent;\r\n  }\r\n\r\n  public static convertToPrincipleTypeObject(principleTypeJSON: any): PrincipleType {\r\n    const principleType: PrincipleType = {\r\n      name: principleTypeJSON.name,\r\n    };\r\n    return principleType;\r\n  }\r\n\r\n  public static convertToPrincipleObject(principleJSON: any): Principle {\r\n    const principle: Principle = {\r\n      name: principleJSON.name,\r\n      description: principleJSON.description,\r\n      type: principleJSON.type,\r\n    };\r\n    return principle;\r\n  }\r\n\r\n  public static convertToFightingArtObject(fightingArtJSON: any): FightingArt {\r\n    const fightingArt: FightingArt = {\r\n      name: fightingArtJSON.name,\r\n      description: fightingArtJSON.description,\r\n    };\r\n    return fightingArt;\r\n  }\r\n\r\n  public static convertToDisorderObject(disorderJSON: any): Disorder {\r\n    const disorder: Disorder = {\r\n      name: disorderJSON.name,\r\n      description: disorderJSON.description,\r\n    };\r\n    return disorder;\r\n  }\r\n\r\n  public static convertToInnovationObject(innovationJSON: any, tags: InnovationTag[]): Innovation {\r\n    let consequence: InnovationTag = <InnovationTag>InnovationTag[<string>innovationJSON.consequence];\r\n    const innovation: Innovation = {\r\n      name: innovationJSON.name,\r\n      description: innovationJSON.description,\r\n      consequence: consequence,\r\n      isBase: innovationJSON.isBase,\r\n      tags: tags,\r\n    };\r\n    return innovation;\r\n  }\r\n\r\n  public static convertToLocationObject(locationJSON: any): Location {\r\n    const location: Location = {\r\n      name: locationJSON.name,\r\n      description: locationJSON.description,\r\n      storages: [], //TODO storages from location\r\n      isStartLocation: locationJSON.isStartLocation,\r\n    };\r\n    return location;\r\n  }\r\n\r\n  public static convertToTimelineObject(timelineJSON: any, lanternEvent: LanternEvent): Timeline {\r\n    const timeline: Timeline = {\r\n      position: timelineJSON.position,\r\n      lanternEvent: lanternEvent,\r\n    };\r\n    return timeline;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/json_to_object_converter.ts","import { BaseModel } from './base_model';\r\n/**\r\n * Created by Daniel on 08.02.2017.\r\n */\r\nexport class Storage extends BaseModel {\r\n  amount: number;\r\n  tags: StorageTag[];\r\n}\r\n\r\nexport enum StorageTag {\r\n  bone,\r\n  organ,\r\n  consumable,\r\n  hide,\r\n  scrap,\r\n  weapon,\r\n  melee,\r\n  sword,\r\n  axe,\r\n  armor,\r\n  fragile,\r\n  dagger,\r\n  tool,\r\n  item,\r\n  ranged,\r\n  thrown,\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/model/storage.ts","import { Milestone } from '../milestone';\n/**\n * Created by Daniel on 10.02.2017.\n */\nexport interface ComparableVisitor {\n  visit(milestone: Milestone, compareValue: string | number): boolean;\n}\n\nexport enum ComparableVisitorValue {\n  L,\n  LE,\n  EQ,\n  GE,\n  G,\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/model/visitor/comparable_visitor.ts","import { Component } from '@angular/core';\r\nimport { NavParams, NavController, ModalController } from 'ionic-angular';\r\nimport { Settlement } from '../../model/settlement';\r\nimport { Storage } from '../../model/storage';\r\nimport { StorageModalComponent } from './storage_modal.component';\r\nimport { BaseModel } from '../../model/base_model';\r\nimport { ShowListDetailComponent } from '../template/show_list_detail.component';\r\n/**\r\n * Created by Daniel on 14.02.2017.\r\n */\r\n@Component({\r\n  selector: 'kdmf-page-storage',\r\n  templateUrl: 'storage.component.html',\r\n})\r\nexport class StoragePageComponent {\r\n\r\n  settlement: Settlement;\r\n\r\n  constructor(public navCtrl: NavController, public params: NavParams, public modalCtrl: ModalController) {\r\n    this.settlement = params.get('settlement');\r\n  }\r\n\r\n  decreaseAmount(storage: Storage): void {\r\n    storage.amount--;\r\n    if (storage.amount === 0) {\r\n      this.removeStorage(storage);\r\n    }\r\n  }\r\n\r\n  increaseAmount(storage: Storage): void {\r\n    storage.amount++;\r\n  }\r\n\r\n  changedAmount(storage: Storage): void {\r\n    if (storage.amount === 0) {\r\n      this.removeStorage(storage);\r\n    }\r\n  }\r\n\r\n  removeStorage(storage: Storage): void {\r\n    const index = this.settlement.storages.findIndex(str => str === storage);\r\n    this.settlement.storages.splice(index, 1);\r\n  }\r\n\r\n  addStorageItem(): void {\r\n    let modal = this.modalCtrl.create(StorageModalComponent, {\r\n      settlement: this.settlement,\r\n    });\r\n    modal.present();\r\n  }\r\n\r\n  showDetail(storageItem: Storage): void {\r\n    this.navCtrl.push(ShowListDetailComponent, {\r\n      object: storageItem,\r\n    }).then();\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/storage/storage.component.ts","import { Component, OnInit } from '@angular/core';\nimport { ViewController, NavParams } from 'ionic-angular';\nimport { Settlement } from '../../model/settlement';\nimport { KDMDataService } from '../../service/kdm_data.service';\nimport { Storage } from '../../model/storage';\nimport { Observable, Subject } from 'rxjs';\n/**\n * Created by Daniel on 19.02.2017.\n */\n@Component({\n  selector: 'kdmf-storage-modal',\n  templateUrl: 'storage_modal.component.html',\n})\nexport class StorageModalComponent implements OnInit {\n\n  settlement: Settlement;\n  storageItems: Storage[];\n  storageItemName: string;\n  searchName: string;\n  foundStorageItems: Observable<Storage[]>;\n  private searchNames = new Subject<string>();\n\n  constructor(public viewCtrl: ViewController, private params: NavParams, private kdmData: KDMDataService) {\n    this.settlement = this.params.get('settlement');\n  }\n\n  ngOnInit(): void {\n    this.getStorageItems();\n    this.getSearchedStorageItems();\n  }\n\n  search(): void {\n    this.searchNames.next(this.searchName);\n  }\n\n  selectItem(storage: Storage): void {\n    this.storageItemName = storage.name;\n  }\n\n  addClose(): void {\n    const storageItem = this.storageItems.find(item => item.name === this.storageItemName);\n    if (storageItem) {\n      this.settlement.addStorageItem(storageItem);\n    }\n    this.close();\n  }\n\n  close(): void {\n    this.viewCtrl.dismiss();\n  }\n\n  private getStorageItems(): void {\n    this.kdmData.getResources().then(resources =>\n      this.storageItems = resources.sort(this.kdmData.sortByName));\n  }\n\n  private getSearchedStorageItems(): void {\n    this.foundStorageItems = this.searchNames\n      .debounceTime(500)\n      .switchMap(term => {\n        return term\n          ? this.searchStorageItems(this.searchName)\n          : Observable.of<Storage[]>([]);\n      })\n      .catch(error => {\n        // TODO error handling\n        console.log(error);\n        return Observable.of<Storage[]>([]);\n      });\n  }\n\n  private searchStorageItems(name: string): Observable<Storage[]> {\n    if (name == null || name.length < 1) {\n      return Observable.of<Storage[]>([]);\n    }\n    const searchRgx: RegExp = new RegExp(name, 'gi');\n    return Observable.of<Storage[]>(this.storageItems.filter(resource => {\n      return resource.name.match(searchRgx);\n    }));\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/storage/storage_modal.component.ts","import { FightingArt } from './fighting_art';\r\nimport { Disorder } from './disorder';\r\nimport { Characteristic } from './characteristic';\r\n/**\r\n * Created by Daniel on 24.02.2017.\r\n */\r\nexport class Survivor {\r\n  static counter: number = 0;\r\n  id: number;\r\n  name: string;\r\n  isAlive: boolean = true;\r\n  isMale: boolean = true;\r\n  experience: number = 0;\r\n  survival: number = 0;\r\n  canDodge: boolean = true;\r\n  canEncourage: boolean = false;\r\n  canSurge: boolean = false;\r\n  canDash: boolean = false;\r\n  movement: number = 5;\r\n  accuracy: number = 0;\r\n  strength: number = 0;\r\n  evasion: number = 0;\r\n  luck: number = 0;\r\n  speed: number = 0;\r\n  insanity: number = 0;\r\n  isBrainDamaged: boolean = false;\r\n  headArmor: number = 0;\r\n  headHeavyInjury: boolean = false;\r\n  armsArmor: number = 0;\r\n  armsLightInjury: boolean = false;\r\n  armsHeavyInjury: boolean = false;\r\n  bodyArmor: number = 0;\r\n  bodyLightInjury: boolean = false;\r\n  bodyHeavyInjury: boolean = false;\r\n  waistArmor: number = 0;\r\n  waistLightInjury: boolean = false;\r\n  waistHeavyInjury: boolean = false;\r\n  legsArmor: number = 0;\r\n  legsLightInjury: boolean = false;\r\n  legsHeavyInjury: boolean = false;\r\n  cannotUseFightingArts: boolean = false;\r\n  cannotSpendSurvival: boolean = false;\r\n  skipNextHunt: boolean = false;\r\n  fightingArts: FightingArt[] = [];\r\n  disorders: Disorder[] = [];\r\n  characteristics: Characteristic[];\r\n\r\n  constructor(name: string) {\r\n    this.name = name;\r\n    this.id = Survivor.counter++;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/model/survivor.ts","import { Component, AfterViewInit } from '@angular/core';\nimport { ViewController, NavParams } from 'ionic-angular';\nimport { KDMDataService } from '../../service/kdm_data.service';\nimport { BaseModel } from '../../model/base_model';\nimport { ShowListTypes } from '../../model/show_list_types';\nimport { Innovation } from '../../model/innovation';\n\n/**\n * Created by Daniel on 16.03.2017.\n */\n@Component({\n  selector: 'kdmf-show-list-add',\n  templateUrl: 'show_list_add_modal.component.html',\n})\nexport class ShowListAddModalComponent implements AfterViewInit {\n\n  objects: Object[];\n  existingObjects: Object[];\n  typename: string = 'Non selected';\n  objectName: string;\n  type: ShowListTypes;\n\n  constructor(public viewCtrl: ViewController, private params: NavParams, private kdmData: KDMDataService) {\n    this.objects = this.params.get('objects');\n    this.type = this.params.get('type');\n  }\n\n  ngAfterViewInit(): void {\n    this.setup();\n  }\n\n  addClose(): void {\n    const object = this.existingObjects.find((item: BaseModel) => item.name === this.objectName);\n    if (object) {\n      this.objects.push(object);\n    }\n    this.close();\n  }\n\n  close(): void {\n    this.viewCtrl.dismiss();\n  }\n\n  private setup(): void {\n    switch (this.type) {\n      case ShowListTypes.FightingArt:\n        this.typename = 'Fighting Art';\n        this.kdmData.getFightingArts().then(fightingArt =>\n          this.existingObjects = fightingArt.filter(art =>\n          this.objects.indexOf(art) === -1).sort(this.kdmData.sortByName));\n        break;\n      case ShowListTypes.Disorder:\n        this.typename = 'Disorder';\n        this.kdmData.getDisorders().then(disorders =>\n          this.existingObjects = disorders.filter(disorder =>\n          this.objects.indexOf(disorder) === -1).sort(this.kdmData.sortByName));\n        break;\n      case ShowListTypes.Innovation:\n        this.typename = 'Innovation';\n        this.kdmData.getInnovations().then(innovations => {\n          this.existingObjects = innovations.filter(innovation =>\n          this.objects.indexOf(innovation) < 0 && innovation.tags.some(tag =>\n          this.objects.filter((inov: Innovation) =>\n          inov.consequence === tag).length > 0)).sort(this.kdmData.sortByName);\n          // when null/undefined get all Base Innovations and add them to the list\n          if (this.existingObjects == null || (this.existingObjects.length === 0 && this.objects.length === 0)) {\n            this.existingObjects = innovations.filter(innovation => innovation.isBase);\n          }\n        });\n        break;\n      case ShowListTypes.Location:\n        this.typename = 'Location';\n        this.kdmData.getSettlementLocations().then(locations =>\n          this.existingObjects = locations.filter(location =>\n          this.objects.indexOf(location) === -1).sort(this.kdmData.sortByName));\n        break;\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/template/show_list_add_modal.component.ts","import { Component, OnInit } from '@angular/core';\r\nimport { NavParams, NavController } from 'ionic-angular';\r\nimport { Settlement } from '../../model/settlement';\r\nimport { PrincipleType } from '../../model/principle';\r\nimport { KDMDataService } from '../../service/kdm_data.service';\r\nimport { PrincipleChooserPageComponent } from './principle_chooser.component';\r\n/**\r\n * Created by Daniel on 14.02.2017.\r\n */\r\n@Component({\r\n  selector: 'kdmf-page-principles',\r\n  templateUrl: 'principles.component.html',\r\n})\r\nexport class PrinciplesPageComponent implements OnInit {\r\n\r\n  settlement: Settlement;\r\n  allPrincipleTypes: PrincipleType[];\r\n\r\n  constructor(public navCtrl: NavController, public params: NavParams, private kdmData: KDMDataService) {\r\n    this.settlement = params.get('settlement');\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.kdmData.getPrincipleTypes().then(principleTypes =>\r\n      this.allPrincipleTypes = principleTypes,\r\n    );\r\n  }\r\n\r\n  principleIsChosen(type: PrincipleType): boolean {\r\n    return this.settlement.principles.find(principle => {\r\n          return principle.type === type;\r\n        },\r\n      ) != null;\r\n  }\r\n\r\n  selectPrinciple(type: PrincipleType): void {\r\n    this.navCtrl.push(PrincipleChooserPageComponent, {\r\n      principleType: type,\r\n      settlement: this.settlement,\r\n    }).then();\r\n  }\r\n\r\n  removePrinciple(type: PrincipleType): void {\r\n    let itemToRemove: number = this.settlement.principles.findIndex(principle =>\r\n      principle.type === type,\r\n    );\r\n    this.settlement.principles.splice(itemToRemove, 1);\r\n  }\r\n\r\n  getPrincipleName(type: PrincipleType): string {\r\n    return this.settlement.principles.find(principle => principle.type === type).name;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/principle/principles.component.ts","import { Component, OnInit } from '@angular/core';\r\nimport { NavParams, NavController } from 'ionic-angular';\r\nimport { Principle, PrincipleType } from '../../model/principle';\r\nimport { KDMDataService } from '../../service/kdm_data.service';\r\nimport { Settlement } from '../../model/settlement';\r\n/**\r\n * Created by Daniel on 14.02.2017.\r\n */\r\n@Component({\r\n  selector: 'kdmf-page-principle-chooser',\r\n  templateUrl: 'principle_chooser.component.html',\r\n})\r\nexport class PrincipleChooserPageComponent implements OnInit {\r\n\r\n  settlement: Settlement;\r\n  principleType: PrincipleType;\r\n  allPrinciples: Principle[];\r\n  principleOne: Principle = new Principle('Not loaded', 'Please return');\r\n  principleTwo: Principle = new Principle('Not loaded', 'Please return');\r\n  isLoading: boolean = true;\r\n\r\n  constructor(public navCtrl: NavController, public params: NavParams, private kdmData: KDMDataService) {\r\n    this.settlement = params.get('settlement');\r\n    this.principleType = params.get('principleType');\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.kdmData.getPrinciplesWithType(this.principleType).then(principles => {\r\n        this.allPrinciples = principles;\r\n        if (principles.length > 1) {\r\n          this.principleOne = principles[0];\r\n          this.principleTwo = principles[1];\r\n          this.isLoading = false;\r\n        }\r\n      },\r\n    );\r\n  }\r\n\r\n  selectPrinciple(principle: Principle): void {\r\n    console.log(principle);\r\n    this.settlement.principles.push(principle);\r\n    this.navCtrl.pop();\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/principle/principle_chooser.component.ts","import { Injectable } from '@angular/core';\r\nimport { SettlementMilestone } from '../model/linking/settlement_milestone';\r\nimport { Observer } from 'rxjs/Observer';\r\nimport { TimelineEventModalComponent } from '../pages/timeline/timeline_event_modal.component';\r\nimport { ModalController } from 'ionic-angular';\r\nimport { SettlementPageComponent } from '../pages/settlement/settlement.component';\r\n\r\n/**\r\n * Created by Daniel on 01.05.2017.\r\n */\r\n@Injectable()\r\nexport class KDMObserverService {\r\n\r\n  constructor(public modalCtrl: ModalController) {\r\n  }\r\n\r\n  registerObserverForMilestone(settlementPageComponent: SettlementPageComponent, milestone: SettlementMilestone) {\r\n    milestone.observer = this.getObserver(milestone);\r\n    this.setMilestoneTarget(milestone, milestone.milestone.observerTarget, settlementPageComponent);\r\n  }\r\n\r\n  private getObserver(milestone: SettlementMilestone): Observer<Object> {\r\n    return {\r\n      next: x => {\r\n        if (this.checkMilestone(milestone, x)) {\r\n          milestone.reached = !milestone.reached;\r\n          this.modalCtrl.create(TimelineEventModalComponent, {\r\n            lanternEvent: milestone.milestone,\r\n          }).present();\r\n        }\r\n      },\r\n      error: err => console.error('Observer got an error: ' + err),\r\n      complete: () => console.log('Observer got a complete notification'),\r\n    };\r\n  }\r\n\r\n  private checkMilestone(milestone: SettlementMilestone, value: any): boolean {\r\n    return (!milestone.reached && milestone.milestone.accept(value));\r\n  }\r\n\r\n  private setMilestoneTarget(settlementMilestone: SettlementMilestone, milestoneTarget: string,\r\n                             settlementPageComponent: SettlementPageComponent) {\r\n    switch (milestoneTarget.toUpperCase()) {\r\n      case 'DEATHCOUNT':\r\n        settlementMilestone.subscription = settlementPageComponent.deathcount.subscribe(settlementMilestone.observer);\r\n        break;\r\n      case 'POPULATION':\r\n        settlementMilestone.subscription = settlementPageComponent.population.subscribe(settlementMilestone.observer);\r\n        break;\r\n      default:\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/service/kdm_observer.service.ts","import { Settlement } from '../settlement';\nimport { Milestone } from '../milestone';\nimport { SettlementLanternEvent } from './settlement_lantern_event';\nimport { Subscription } from 'rxjs/Subscription';\nimport { Observer } from 'rxjs/Observer';\n/**\n * Created by Daniel on 21.03.2017.\n */\nexport class SettlementMilestone extends SettlementLanternEvent {\n  milestone: Milestone;\n  observer: Observer<Object>;\n  subscription: Subscription;\n\n  constructor(settlement: Settlement, milestone: Milestone) {\n    super(settlement, milestone);\n    this.milestone = milestone;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/model/linking/settlement_milestone.ts","import { Component, OnInit } from '@angular/core';\r\nimport { Settlement } from '../../model/settlement';\r\nimport { AlertController, NavController } from 'ionic-angular';\r\nimport { KDMDataService } from '../../service/kdm_data.service';\r\nimport { Survivor } from '../../model/survivor';\r\nimport { SurvivorPageComponent } from '../survivor/survivor.component';\r\n\r\n/**\r\n * Created by Daniel on 24.02.2017.\r\n */\r\n@Component({\r\n  selector: 'kdmf-page-survivors',\r\n  templateUrl: 'survivors.component.html',\r\n})\r\nexport class SurvivorsPageComponent implements OnInit {\r\n\r\n  settlementId: number = -1;\r\n  settlements: Settlement[];\r\n  settlement: Settlement;\r\n  tempSettlement: Settlement;\r\n\r\n  constructor(public navCtrl: NavController, private alertCtrl: AlertController, private kdmService: KDMDataService) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getSettlements();\r\n  }\r\n\r\n  goToDetail(survivor: Survivor): void {\r\n    this.navCtrl.push(SurvivorPageComponent, {\r\n      survivor,\r\n    }).then();\r\n  }\r\n\r\n  selectedSettlement(settlement: Settlement): void {\r\n    if (settlement) {\r\n      this.tempSettlement = settlement;\r\n    }\r\n  }\r\n\r\n  confirmChange(): void {\r\n    if (this.tempSettlement) {\r\n      this.settlement = this.tempSettlement;\r\n      this.settlementId = this.settlement.id;\r\n    }\r\n  }\r\n\r\n  addSurvivor(): void {\r\n    this.settlement.survivors.push(new Survivor('Survivor ' + Survivor.counter));\r\n  }\r\n\r\n  survivorsCheck(): boolean {\r\n    return (this.settlement &&\r\n      this.settlement.survivors.filter(survivor => survivor.isAlive).length > this.settlement.population);\r\n  }\r\n\r\n  removeSurvivor(survivor: Survivor): void {\r\n    const index: number = this.settlement.survivors.findIndex(s => survivor === s);\r\n    if (index >= 0) {\r\n      const alert = this.alertCtrl.create({\r\n        title: 'Confirm deletion',\r\n        message: 'Do you want to delete ' + survivor.name + '?',\r\n        buttons: [\r\n          {\r\n            text: 'Cancel',\r\n            role: 'cancel',\r\n            handler: () => {\r\n            },\r\n          },\r\n          {\r\n            text: 'Yes',\r\n            handler: () => {\r\n              this.settlement.survivors.splice(index, 1);\r\n            },\r\n          },\r\n        ],\r\n      });\r\n      alert.present();\r\n    }\r\n  }\r\n\r\n  private getSettlements(): void {\r\n    this.kdmService.getSettlements().then(settlements => {\r\n      if (settlements) {\r\n        this.settlements = settlements;\r\n      } else {\r\n        this.settlements = [];\r\n      }\r\n    });\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/survivors/survivors.component.ts","import { Component, OnInit } from '@angular/core';\nimport { Survivor } from '../../model/survivor';\nimport { NavParams, ModalController, NavController } from 'ionic-angular';\nimport { FormControl, FormGroup, FormBuilder, FormArray } from '@angular/forms';\nimport { ShowListComponent } from '../template/show_list.component';\nimport { ShowListTypes } from '../../model/show_list_types';\n\n/**\n * Created by Daniel on 01.03.2017.\n */\n@Component({\n  selector: 'kdmf-page-survivor',\n  templateUrl: 'survivor.component.html',\n})\nexport class SurvivorPageComponent implements OnInit {\n\n  private static MAX_XP: number = 16;\n\n  survivor: Survivor;\n\n  xpGroup: FormGroup;\n\n  constructor(public navCtrl: NavController, public modalCtrl: ModalController, public params: NavParams,\n              public formBuilder: FormBuilder) {\n    this.survivor = params.get('survivor');\n    console.log(this.survivor);\n    console.log(typeof this.survivor.isMale);\n  }\n\n  ngOnInit(): void {\n    this.setupXP();\n  }\n\n  survivalChange(event: number): void {\n    if (typeof event === 'number') {\n      this.survivor.survival = event;\n    }\n  }\n\n  movementChange(event): void {\n    if (typeof event === 'number') {\n      this.survivor.movement = event;\n    }\n  }\n\n  accuracyChange(event): void {\n    if (typeof event === 'number') {\n      this.survivor.accuracy = event;\n    }\n  }\n\n  strengthChange(event): void {\n    if (typeof event === 'number') {\n      this.survivor.strength = event;\n    }\n  }\n\n  evasionChange(event): void {\n    if (typeof event === 'number') {\n      this.survivor.evasion = event;\n    }\n  }\n\n  luckChange(event): void {\n    if (typeof event === 'number') {\n      this.survivor.luck = event;\n    }\n  }\n\n  speedChange(event): void {\n    if (typeof event === 'number') {\n      this.survivor.speed = event;\n    }\n  }\n\n  insanityChange(event): void {\n    if (typeof event === 'number') {\n      this.survivor.insanity = event;\n    }\n  }\n\n  headArmorChange(event): void {\n    if (typeof event === 'number') {\n      this.survivor.headArmor = event;\n    }\n  }\n\n  armsArmorChange(event): void {\n    if (typeof event === 'number') {\n      this.survivor.armsArmor = event;\n    }\n  }\n\n  bodyArmorChange(event): void {\n    if (typeof event === 'number') {\n      this.survivor.bodyArmor = event;\n    }\n  }\n\n  waistArmorChange(event): void {\n    if (typeof event === 'number') {\n      this.survivor.waistArmor = event;\n    }\n  }\n\n  legsArmorChange(event): void {\n    if (typeof event === 'number') {\n      this.survivor.legsArmor = event;\n    }\n  }\n\n  updateXP(event: Event, control: FormControl): void {\n    if (control.value) {\n      this.survivor.experience++;\n    } else {\n      this.survivor.experience--;\n    }\n  }\n\n  showDisorders(): void {\n    this.navCtrl.push(ShowListComponent, {\n      objects: this.survivor.disorders,\n      type: ShowListTypes.Disorder,\n    }).then();\n  }\n\n  showFightingArts(): void {\n    this.navCtrl.push(ShowListComponent, {\n      objects: this.survivor.fightingArts,\n      type: ShowListTypes.FightingArt,\n    }).then();\n  }\n\n  private setupXP(): void {\n    const checkboxArray = new FormArray([]);\n    for (let i: number = 0; i < SurvivorPageComponent.MAX_XP; i++) {\n      if (i < this.survivor.experience) {\n        checkboxArray.push(new FormControl(true));\n      } else {\n        checkboxArray.push(new FormControl(false));\n      }\n    }\n    this.xpGroup = this.formBuilder.group({xps: checkboxArray});\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/survivor/survivor.component.ts","/**\r\n * Created by Daniel on 18.05.2017.\r\n */\r\nimport { Injectable } from '@angular/core';\r\nimport { SQLite, SQLiteObject } from '@ionic-native/sqlite';\r\nimport { Platform } from 'ionic-angular';\r\nimport { Settlement } from '../model/settlement';\r\nimport { Monster } from '../model/monster';\r\nimport { KDMInitDBService } from './kdm_init_db.service';\r\nimport { HuntableMonster } from '../model/linking/huntable_monster';\r\nimport { HuntedMonster } from '../model/linking/hunted_monster';\r\nimport { Milestone } from '../model/milestone';\r\nimport { SettlementMilestone } from '../model/linking/settlement_milestone';\r\nimport { JsonToObjectConverter } from '../util/json_to_object_converter';\r\n\r\n@Injectable()\r\nexport class KDMDBService {\r\n\r\n  constructor(private platform: Platform,\r\n              private sqlite: SQLite,\r\n              private kdmInitDB: KDMInitDBService) {\r\n    console.log('Enter: KDMDBService');\r\n  }\r\n\r\n  initDB(): void {\r\n    if (this.platform.is('cordova')) {\r\n      console.log('INIT cordova sqlite db');\r\n      this.createDbConnection()\r\n        .then((db: SQLiteObject) => {\r\n          this.kdmInitDB.initDB(db);\r\n        })\r\n        .catch(err => {\r\n          console.error('Error in KDMDBService', err);\r\n        });\r\n    } else {\r\n// dummy database for browser development?\r\n    }\r\n  }\r\n\r\n  saveSettlement(settlement: Settlement): Promise<Settlement> {\r\n    console.log('saveSettlement');\r\n    let placeholders = '(?, ?, ?, ?, ?, ?)';\r\n    let parameters = [settlement.id, settlement.name,\r\n      settlement.survivalLimit, settlement.population, settlement.deathcount, settlement.settlementLost];\r\n    return this.createDbConnection()\r\n      .then(sqliteObject => sqliteObject\r\n        .executeSql(`REPLACE INTO Settlements (id, name, survivalLimit, population,\r\n      deathcount, settlementLost) VALUES ` + placeholders, parameters)\r\n        .then(stlmt => {\r\n          settlement.id = stlmt.insertId;\r\n          console.log('inserted into settlements: ', settlement.id);\r\n        })\r\n        .then(() => {\r\n          settlement.huntedMonsters.forEach(huntedMonster =>\r\n            this.saveMonster(huntedMonster.monster).then(monster => this.saveHuntedMonster(huntedMonster)));\r\n        })\r\n        .then(() => {\r\n          settlement.huntableMonsters.forEach(huntableMonster =>\r\n            this.saveHuntableMonster(huntableMonster));\r\n        })\r\n        .then(() => {\r\n          settlement.milestones.forEach(settlementMilestone =>\r\n            this.saveSettlementMilestone(settlementMilestone));\r\n        })\r\n        .then(() => settlement));\r\n  }\r\n\r\n  removeSettlement(settlement: Settlement): void {\r\n    let parameters = [settlement.id];\r\n\r\n    this.createDbConnection()\r\n      .then(sqliteObject => sqliteObject\r\n        .executeSql('DELETE FROM SETTLEMENTS WHERE ID = ?', parameters)\r\n        .then(() =>\r\n          console.log('removed from settlements: ', settlement.id),\r\n        )\r\n        .catch(x => {\r\n          console.log('Error remove from settlements');\r\n          console.log(x);\r\n        }),\r\n      );\r\n  }\r\n\r\n  getSettlements(): Promise<Settlement[]> {\r\n    console.log('getSettlements');\r\n    return this.createDbConnection()\r\n      .then(sqliteObject =>\r\n        sqliteObject\r\n          .executeSql('SELECT * FROM SETTLEMENTS', [])\r\n          .then(data => {\r\n            let settlements: Settlement[] = [];\r\n            for (let i = 0; i < data.rows.length; i++) {\r\n              const settlement: Settlement = JsonToObjectConverter.convertToSettlementObject(data.rows.item(i));\r\n              const id = settlement.id;\r\n              this.getHuntedMonsters(id).then(huntedMonsters => settlement.huntedMonsters = huntedMonsters);\r\n              this.getHuntableMonsters(id).then(huntableMonsters =>\r\n                settlement.huntableMonsters = huntableMonsters);\r\n              this.getSettlementMilestones(id).then(settlementMilestones => settlementMilestones.forEach(milestone =>\r\n                settlement.milestones.push(new SettlementMilestone(settlement, milestone))));\r\n              settlements.push(settlement);\r\n            }\r\n            return settlements;\r\n          }),\r\n      );\r\n  }\r\n\r\n  saveMonster(monster: Monster): Promise<Monster> {\r\n    let placeholders = '(?, ?, ?, ?)';\r\n    let parameters = [monster.id, monster.name, monster.level, monster.isNemesis];\r\n\r\n    return this.createDbConnection()\r\n      .then(sqliteObject => sqliteObject\r\n        .executeSql(`REPLACE INTO Monsters (id, name, level, isNemesis) VALUES ` + placeholders, parameters)\r\n        .then(stlmt => {\r\n          console.log('inserted into monsters: ', monster.id);\r\n          monster.id = stlmt.id;\r\n          return monster;\r\n        }).catch(exception => console.log('Error inserting into monsters: ', exception)));\r\n\r\n  }\r\n\r\n  saveHuntedMonster(huntedMonster: HuntedMonster): Promise<void> {\r\n    // TODO huntedResources\r\n    let placeholders = '(?, ?)';\r\n    let parameters = [huntedMonster.settlement.id, huntedMonster.monster.id];\r\n\r\n    return this.createDbConnection()\r\n      .then(sqliteObject => sqliteObject\r\n        .executeSql(`REPLACE INTO Hunted_Monsters (settlementID, monsterID) VALUES ` + placeholders, parameters)\r\n        .then(huntedMonsterReturn => {\r\n          console.log(\r\n            'inserted into huntedMonsters: ', huntedMonsterReturn.SettlementID, ' : ', huntedMonsterReturn.MonsterID);\r\n          return Promise.resolve();\r\n        }));\r\n  }\r\n\r\n  saveHuntableMonster(huntableMonster: HuntableMonster): Promise<void> {\r\n    let placeholders = '(?, ?, ?, ?, ?, ?)';\r\n    let parameters = [huntableMonster.settlement.id, huntableMonster.monster.id, huntableMonster.isHuntable,\r\n      huntableMonster.defeatedLevelOne, huntableMonster.defeatedLevelTwo, huntableMonster.defeatedLevelThree];\r\n\r\n    return this.createDbConnection()\r\n      .then(sqliteObject => sqliteObject\r\n        .executeSql(`REPLACE INTO Huntable_Monsters (settlementID, monsterID, isHuntable, defeatedLevelOne,\r\n        defeatedLevelTwo, defeatedLevelThree) VALUES ` + placeholders, parameters)\r\n        .then(huntableMonsterRet => {\r\n          console.log('inserted into huntableMonster: ', huntableMonsterRet.insertId);\r\n          return Promise.resolve();\r\n        })\r\n        .catch(exception => console.log('error inserting into huntableMonsters: ', exception)));\r\n  }\r\n\r\n  saveSettlementMilestone(settlementMileston: SettlementMilestone): Promise<void> {\r\n    let placeholders = '(?, ?)';\r\n    let parameters = [settlementMileston.settlement.id, settlementMileston.milestone.id];\r\n\r\n    return this.createDbConnection()\r\n      .then(sqliteObject => sqliteObject\r\n        .executeSql(`REPLACE INTO Settlement_Milestones (SettlementID, MilestoneID) VALUES ` + placeholders, parameters)\r\n        .then(settlementMilestonesRet => {\r\n          console.log('inserted into SettlementMilestones: ', settlementMilestonesRet.insertId);\r\n          return Promise.resolve();\r\n        })\r\n        .catch(exception => console.log('error inserting into SettlementMilestones: ', exception)));\r\n  }\r\n\r\n  getAllInitialQuarries(): Promise<Monster[]> {\r\n    return this.createDbConnection()\r\n      .then(sqliteObject =>\r\n        sqliteObject\r\n          .executeSql('SELECT * FROM MONSTERS WHERE ID < ? and IsNemesis = ?', [KDMInitDBService.incrementalID, false])\r\n          .then(data => {\r\n            let monsters: Monster[] = [];\r\n            for (let i = 0; i < data.rows.length; i++) {\r\n              monsters.push(JsonToObjectConverter.convertToMonsterObject(data.rows.item(i)));\r\n            }\r\n            return monsters;\r\n          }),\r\n      );\r\n  }\r\n\r\n  getAllInitialNemesisMonsters(): Promise<Monster[]> {\r\n    return this.createDbConnection()\r\n      .then(sqliteObject =>\r\n        sqliteObject\r\n          .executeSql('SELECT * FROM MONSTERS WHERE ID < ? and IsNemesis = ?', [KDMInitDBService.incrementalID, true])\r\n          .then(data => {\r\n            let monsters: Monster[] = [];\r\n            for (let i = 0; i < data.rows.length; i++) {\r\n              monsters.push(JsonToObjectConverter.convertToMonsterObject(data.rows.item(i)));\r\n            }\r\n            return monsters;\r\n          }),\r\n      );\r\n  }\r\n\r\n  getMonsters(): Promise<Monster[]> {\r\n    return this.createDbConnection()\r\n      .then(sqliteObject =>\r\n        sqliteObject\r\n          .executeSql('SELECT * FROM MONSTERS', [])\r\n          .then(data => {\r\n            let monsters: Monster[] = [];\r\n            for (let i = 0; i < data.rows.length; i++) {\r\n              monsters.push(JsonToObjectConverter.convertToMonsterObject(data.rows.item(i)));\r\n            }\r\n            return monsters;\r\n          }),\r\n      );\r\n  }\r\n\r\n  getHuntedMonsters(settlementId: number): Promise<HuntedMonster[]> {\r\n    return this.createDbConnection()\r\n      .then(sqliteObject =>\r\n        sqliteObject\r\n          .executeSql('SELECT * FROM Monsters WHERE ID IN (' +\r\n            'SELECT MonsterID from Hunted_Monsters WHERE SettlementID = ?)', [settlementId])\r\n          .then(data => {\r\n            let huntedMonsters: HuntedMonster[] = [];\r\n            for (let i = 0; i < data.rows.length; i++) {\r\n              huntedMonsters.push(JsonToObjectConverter.convertToHuntedMonsterObject(data.rows.item(i)));\r\n            }\r\n            return huntedMonsters;\r\n          }),\r\n      );\r\n  }\r\n\r\n  getHuntableMonsters(settlementId: number): Promise<HuntableMonster[]> {\r\n    return this.createDbConnection()\r\n      .then(sqliteObject =>\r\n        sqliteObject\r\n          .executeSql('SELECT * FROM Monsters WHERE ID IN (' +\r\n            'SELECT MonsterID FROM Huntable_Monsters WHERE SettlementID = ?)', [settlementId])\r\n          .then(data => {\r\n            let huntableMonsters: HuntableMonster[] = [];\r\n            for (let i = 0; i < data.rows.length; i++) {\r\n              huntableMonsters.push(JsonToObjectConverter.convertToHuntableMonsterObject(data.rows.item(i)));\r\n            }\r\n            return huntableMonsters;\r\n          }),\r\n      );\r\n  }\r\n\r\n  getSettlementMilestones(settlementId: number): Promise<Milestone[]> {\r\n    return this.createDbConnection()\r\n      .then(sqliteObject =>\r\n        sqliteObject.executeSql('SELECT * FROM Milestones where ID IN (' +\r\n          'SELECT MilestoneID FROM Settlement_Milestones WHERE SettlementID = ?)', [settlementId])\r\n          .then(data => {\r\n            let milestones: Milestone[] = [];\r\n            for (let i = 0; i < data.rows.length; i++) {\r\n              milestones.push(JsonToObjectConverter.convertToMilestoneObject(data.rows.item(i), []));\r\n            }\r\n            return milestones;\r\n          }),\r\n      );\r\n  }\r\n\r\n  getInitialMilestones(): Promise<Milestone[]> {\r\n    return this.createDbConnection()\r\n      .then(sqliteObject =>\r\n        sqliteObject.executeSql('SELECT * FROM Milestones where ID < ?', [KDMInitDBService.incrementalID])\r\n          .then(data => {\r\n            console.log('Milestones from DB select: ', data.rows.length);\r\n            console.log(data);\r\n            let milestones: Milestone[] = [];\r\n            for (let i = 0; i < data.rows.length; i++) {\r\n              milestones.push(JsonToObjectConverter.convertToMilestoneObject(data.rows.item(i), []));\r\n            }\r\n            return milestones;\r\n          }),\r\n      );\r\n  }\r\n\r\n  private createDbConnection(): Promise<any> {\r\n    if (this.platform.is('cordova')) {\r\n      console.log('createDBConnection to cordova');\r\n      return this.sqlite.create({name: 'kdm.db', location: 'default'});\r\n    }\r\n    console.log('no cordova to create DB connection');\r\n    return new Promise<any>(null);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/service/kdm_db.service.ts","import { Injectable } from '@angular/core';\nimport { SQLiteObject } from '@ionic-native/sqlite';\nimport { ComparableVisitorValue } from '../model/visitor/comparable_visitor';\n/**\n * Created by Daniel on 30.05.2017.\n */\n@Injectable()\nexport class KDMInitDBService {\n\n  public static incrementalID: number = 1000;\n\n  initDB(db: SQLiteObject): void {\n    this.createTables(db).then(() =>\n      this.fillTables(db),\n    ).catch(exception => {\n        console.log('Error in creating or filling tables');\n        console.log(exception);\n      },\n    );\n  }\n\n  private createTables(db: SQLiteObject): Promise<void> {\n    return this.createSettlementsTable(db).then(() =>\n      this.createMonstersTable(db).then(() =>\n        this.createResourcesTable(db).then(() =>\n          this.createMonsterResourcesTable(db).then(() =>\n            this.createSettlementResourcesTable(db).then(() =>\n              this.createHuntableMonstersTable(db).then(() =>\n                this.createHuntedMonstersTable(db).then(() =>\n                  this.createSurvivorsTable(db).then(() =>\n                    this.createSettlementSurvivorsTable(db).then(() =>\n                      this.createLanternEventsTable(db).then(() =>\n                        this.createMilestonesTable(db).then(() =>\n                          this.createStoryEventsTable(db).then(() =>\n                            this.createSettlementMilestonesTable(db).then(() =>\n                              console.log('Tables created'),\n                            ),\n                          ),\n                        ),\n                      ),\n                    ),\n                  ),\n                ),\n              ),\n            ),\n          ),\n        ),\n      ),\n    );\n  }\n\n  private fillTables(db: SQLiteObject): void {\n    this.fillMonstersTable(db).then(() =>\n      this.fillLanternEventsTable(db).then(() =>\n        this.fillMilestonesTable(db).then(() =>\n          this.fillStoryEventsTable(db).then(() =>\n            console.log('Tables filled'),\n          ),\n        ),\n      ),\n    );\n  }\n\n  private createSettlementsTable(db: SQLiteObject): Promise<void> {\n    return db.executeSql('CREATE TABLE IF NOT EXISTS Settlements (' +\n      'ID INTEGER NOT NULL ' +\n      'CONSTRAINT Key1 PRIMARY KEY ON CONFLICT REPLACE AUTOINCREMENT,' +\n      'Name varchar(50) NOT NULL,' +\n      'SurvivalLimit INTEGER NOT NULL DEFAULT 0,' +\n      'DeathCount INTEGER NOT NULL DEFAULT 0,' +\n      'Population INTEGER NOT NULL DEFAULT 0,' +\n      'SettlementLost INTEGER NOT NULL DEFAULT 0)', []);\n  }\n\n  private createMonstersTable(db: SQLiteObject): Promise<void> {\n    return db.executeSql('CREATE TABLE IF NOT EXISTS Monsters' +\n      '(' +\n      'ID INTEGER NOT NULL ' +\n      'CONSTRAINT Key2 PRIMARY KEY AUTOINCREMENT,' +\n      'Name varchar(50) NOT NULL,' +\n      'Level INTEGER NOT NULL DEFAULT 1,' +\n      'IsNemesis boolean NOT NULL' +\n      ')', []);\n  }\n\n  private fillMonstersTable(db: SQLiteObject): Promise<void> {\n    let placeholders = '(?, ?, ?, ?)';\n    let parameters = [1, 'White Lion', 1, false];\n    db.executeSql(`REPLACE INTO MONSTERS (ID, Name, Level, IsNemesis) VALUES ` + placeholders, parameters);\n    parameters = [2, 'White Lion', 2, false];\n    db.executeSql(`REPLACE INTO MONSTERS (id, name, level, isnemesis) VALUES ` + placeholders, parameters);\n    parameters = [3, 'White Lion', 3, false];\n    db.executeSql(`REPLACE INTO MONSTERS (id, name, level, isnemesis) VALUES ` + placeholders, parameters);\n\n    parameters = [4, 'Screaming Antelope', 1, false];\n    db.executeSql(`REPLACE INTO MONSTERS (id, name, level, isnemesis) VALUES ` + placeholders, parameters);\n    parameters = [5, 'Screaming Antelope', 2, false];\n    db.executeSql(`REPLACE INTO MONSTERS (id, name, level, isnemesis) VALUES ` + placeholders, parameters);\n    parameters = [6, 'Screaming Antelope', 3, false];\n    db.executeSql(`REPLACE INTO MONSTERS (id, name, level, isnemesis) VALUES ` + placeholders, parameters);\n\n    parameters = [7, 'Phoenix', 1, false];\n    db.executeSql(`REPLACE INTO MONSTERS (id, name, level, isnemesis) VALUES ` + placeholders, parameters);\n    parameters = [8, 'Phoenix', 2, false];\n    db.executeSql(`REPLACE INTO MONSTERS (id, name, level, isnemesis) VALUES ` + placeholders, parameters);\n    parameters = [9, 'Phoenix', 3, false];\n    db.executeSql(`REPLACE INTO MONSTERS (id, name, level, isnemesis) VALUES ` + placeholders, parameters);\n\n    parameters = [10, 'Butcher', 1, true];\n    db.executeSql(`REPLACE INTO MONSTERS (id, name, level, isnemesis) VALUES ` + placeholders, parameters);\n    parameters = [11, 'Butcher', 2, true];\n    db.executeSql(`REPLACE INTO MONSTERS (id, name, level, isnemesis) VALUES ` + placeholders, parameters);\n    parameters = [12, 'Butcher', 3, true];\n    db.executeSql(`REPLACE INTO MONSTERS (id, name, level, isnemesis) VALUES ` + placeholders, parameters);\n\n    parameters = [13, 'King\\s Man', 1, true];\n    db.executeSql(`REPLACE INTO MONSTERS (id, name, level, isnemesis) VALUES ` + placeholders, parameters);\n    parameters = [14, 'King\\s Man', 2, true];\n    db.executeSql(`REPLACE INTO MONSTERS (id, name, level, isnemesis) VALUES ` + placeholders, parameters);\n    parameters = [15, 'King\\s Man', 3, true];\n    db.executeSql(`REPLACE INTO MONSTERS (id, name, level, isnemesis) VALUES ` + placeholders, parameters);\n\n    parameters = [16, 'The Hand', 1, true];\n    db.executeSql(`REPLACE INTO MONSTERS (id, name, level, isnemesis) VALUES ` + placeholders, parameters);\n    parameters = [17, 'The Hand', 2, true];\n    db.executeSql(`REPLACE INTO MONSTERS (id, name, level, isnemesis) VALUES ` + placeholders, parameters);\n    parameters = [18, 'The Hand', 3, true];\n    db.executeSql(`REPLACE INTO MONSTERS (id, name, level, isnemesis) VALUES ` + placeholders, parameters);\n\n    parameters = [KDMInitDBService.incrementalID, 'NONE', 1, false];\n    return db.executeSql(`REPLACE INTO MONSTERS (id, name, level, isnemesis) VALUES ` + placeholders, parameters)\n      .then(() => {\n        parameters = [KDMInitDBService.incrementalID];\n        db.executeSql(`DELETE FROM MONSTERS WHERE id = ?`, parameters);\n      });\n\n  }\n\n  private createResourcesTable(db: SQLiteObject): Promise<void> {\n    return db.executeSql('CREATE TABLE IF NOT EXISTS Resources' +\n      '(' +\n      'Name varchar(50) NOT NULL,' +\n      'Description TEXT NOT NULL,' +\n      'ExistingCards INTEGER NOT NULL DEFAULT 1,' +\n      'StorageTag INTEGER NOT NULL,' +\n      'ResourceType INTEGER NOT NULL,' +\n      'Amount INTEGER NOT NULL DEFAULT 0,' +\n      'CONSTRAINT Key4 PRIMARY KEY (Name)' +\n      ')', []);\n  }\n\n  private createMonsterResourcesTable(db: SQLiteObject): Promise<void> {\n    return db.executeSql('CREATE TABLE IF NOT EXISTS Monster_Resources' +\n      '(' +\n      'ResourceName varchar(50) NOT NULL,' +\n      'Amount INTEGER NOT NULL DEFAULT 0,' +\n      'MonsterID INTEGER NOT NULL,' +\n      'CONSTRAINT Key5 PRIMARY KEY (ResourceName,MonsterID),' +\n      'CONSTRAINT Monsters_MonsterResources_Rel FOREIGN KEY (MonsterID) REFERENCES Monsters (ID),' +\n      'CONSTRAINT Resources_MonsterResources_Rel FOREIGN KEY (ResourceName) REFERENCES Resources (Name)' +\n      ')', []);\n  }\n\n  private createSettlementResourcesTable(db: SQLiteObject): Promise<void> {\n    return db.executeSql('CREATE TABLE IF NOT EXISTS Settlement_Resources' +\n      '(' +\n      'SettlementID INTEGER NOT NULL,' +\n      'ResourceName varchar(50) NOT NULL,' +\n      'Amount INTEGER NOT NULL DEFAULT 0,' +\n      'CONSTRAINT Key6 PRIMARY KEY (SettlementID,ResourceName),' +\n      'CONSTRAINT Settlement_SettlementResources_Rel FOREIGN KEY (SettlementID) REFERENCES Settlements (ID),' +\n      'CONSTRAINT Resources_SettlementResources_Rel FOREIGN KEY (ResourceName) REFERENCES Resources (Name)' +\n      ')', []);\n  }\n\n  private createHuntableMonstersTable(db: SQLiteObject): Promise<void> {\n    return db.executeSql('CREATE TABLE IF NOT EXISTS Huntable_Monsters' +\n      '(' +\n      'SettlementID INTEGER NOT NULL,' +\n      'MonsterID INTEGER NOT NULL,' +\n      'IsHuntable boolean NOT NULL DEFAULT false,' +\n      'DefeatedLevelOne boolean NOT NULL DEFAULT false,' +\n      'DefeatedLevelTwo boolean NOT NULL DEFAULT false,' +\n      'DefeatedLevelThree boolean NOT NULL DEFAULT false,' +\n      'CONSTRAINT Key7 PRIMARY KEY (SettlementID,MonsterID),' +\n      'CONSTRAINT Settlements_HuntableMonsters_Rel FOREIGN KEY (SettlementID) REFERENCES Settlements (ID),' +\n      'CONSTRAINT Monsters_HuntableMonsters_Rel FOREIGN KEY (MonsterID) REFERENCES Monsters (ID)' +\n      ')', []);\n  }\n\n  private createHuntedMonstersTable(db: SQLiteObject): Promise<void> {\n    return db.executeSql('CREATE TABLE IF NOT EXISTS Hunted_Monster' +\n      '(' +\n      'SettlementID INTEGER NOT NULL,' +\n      'MonsterID INTEGER NOT NULL,' +\n      'CONSTRAINT Key8 PRIMARY KEY (SettlementID,MonsterID),' +\n      'CONSTRAINT Settlements_HuntedMonsters_Rel FOREIGN KEY (SettlementID) REFERENCES Settlements (ID),' +\n      'CONSTRAINT Monsters_HuntedMonsters_Rel FOREIGN KEY (MonsterID) REFERENCES Monsters (ID)' +\n      ')', []);\n  }\n\n  private createSurvivorsTable(db: SQLiteObject): Promise<void> {\n    return db.executeSql('CREATE TABLE IF NOT EXISTS Survivors' +\n      '(' +\n      'ID INTEGER NOT NULL ' +\n      'CONSTRAINT Key9 PRIMARY KEY AUTOINCREMENT,' +\n      'Name varchar(50) NOT NULL,' +\n      'IsAlive boolean NOT NULL DEFAULT true,' +\n      'IsMale boolean NOT NULL,' +\n      'Experience INTEGER NOT NULL DEFAULT 0,' +\n      'Survival INTEGER NOT NULL DEFAULT 1,' +\n      'CanDodge boolean NOT NULL DEFAULT false,' +\n      'CanEncourage boolean NOT NULL DEFAULT false,' +\n      'CanSurge boolean NOT NULL DEFAULT false,' +\n      'CanDash boolean NOT NULL DEFAULT false,' +\n      'Movement INTEGER NOT NULL DEFAULT 5,' +\n      'Accuracy INTEGER NOT NULL,' +\n      'Strength INTEGER NOT NULL,' +\n      'Evasion INTEGER NOT NULL,' +\n      'Luck INTEGER NOT NULL,' +\n      'Speed INTEGER NOT NULL,' +\n      'Insanity INTEGER NOT NULL,' +\n      'IsBrainDamaged boolean NOT NULL DEFAULT false,' +\n      'HeadArmor INTEGER NOT NULL,' +\n      'HeadHeavyInjury boolean NOT NULL,' +\n      'ArmsArmor INTEGER NOT NULL,' +\n      'ArmsLightInjury boolean NOT NULL,' +\n      'ArmsHeavyInjury boolean NOT NULL,' +\n      'BodyArmor INTEGER NOT NULL,' +\n      'BodyLightInjury boolean NOT NULL,' +\n      'BodyHeavyInjury boolean NOT NULL,' +\n      'WaistArmor INTEGER NOT NULL,' +\n      'WaistLightInjury boolean NOT NULL,' +\n      'WaistHeavyInjury boolean NOT NULL,' +\n      'LegsArmor INTEGER NOT NULL,' +\n      'LegsLightInjury boolean NOT NULL,' +\n      'LegsHeavyInjury boolean NOT NULL,' +\n      'CannotUseFightingArts boolean NOT NULL,' +\n      'CannotSpendSurvival boolean NOT NULL,' +\n      'SkipNextHunt boolean NOT NULL' +\n      ')', []);\n  }\n\n  private createSettlementSurvivorsTable(db: SQLiteObject): Promise<void> {\n    return db.executeSql('CREATE TABLE IF NOT EXISTS Settlement_Survivors' +\n      '(' +\n      'SettlementID INTEGER NOT NULL,' +\n      'SurvivorID INTEGER NOT NULL,' +\n      'CONSTRAINT Key10 PRIMARY KEY (SettlementID,SurvivorID),' +\n      'CONSTRAINT Settlement_SettlementSurvivors_Rel FOREIGN KEY (SettlementID) REFERENCES Settlements (ID),' +\n      'CONSTRAINT Survivors_SettlementSurvivors_Rel FOREIGN KEY (SurvivorID) REFERENCES Survivors (ID)' +\n      ')', []);\n  }\n\n  private createLanternEventsTable(db: SQLiteObject): Promise<void> {\n    return db.executeSql('CREATE TABLE IF NOT EXISTS Lantern_Events' +\n      '(' +\n      'ID INTEGER NOT NULL ' +\n      'CONSTRAINT Key12 PRIMARY KEY AUTOINCREMENT,' +\n      'Name varchar(50) NOT NULL,' +\n      'Todo varchar(50) NOT NULL' +\n      ')', []);\n  }\n\n  private fillLanternEventsTable(db: SQLiteObject): Promise<void> {\n    // Milestone_ID until 100\n    let placeholders = '(?, ?, ?)';\n\n    let parameters = [1, 'Principle: New Life', 'The group must decide how to raise their young. Choose one.'];\n    db.executeSql(`REPLACE INTO Lantern_Events (ID, Name, Todo) VALUES ` + placeholders, parameters)\n      .then(() => db.executeSql('commit', []));\n\n    parameters = [2, 'Principle: Death', 'The group must decide what to do with their first survivors corpse. ' +\n    'Choose one.'];\n    db.executeSql(`REPLACE INTO Lantern_Events (ID, Name, Todo) VALUES ` + placeholders, parameters);\n\n    parameters = [3, 'Principle: Society', ''];\n    db.executeSql(`REPLACE INTO Lantern_Events (ID, Name, Todo) VALUES ` + placeholders, parameters);\n\n    parameters = [4, 'Principle: Hooded Knight', 'The group must decide what to do with their first ' +\n    'survivors corpse. Choose one.'];\n    db.executeSql(`REPLACE INTO Lantern_Events (ID, Name, Todo) VALUES ` + placeholders, parameters);\n\n    parameters = [5, 'Principle: Game Over', ''];\n    db.executeSql(`REPLACE INTO Lantern_Events (ID, Name, Todo) VALUES ` + placeholders, parameters);\n\n    parameters = [101, 'Returning Survivors', 'Nominate a survivors to utter the First Words'];\n    db.executeSql(`REPLACE INTO Lantern_Events (ID, Name, Todo) VALUES ` + placeholders, parameters);\n\n    parameters = [102, 'Endless Screams', ''];\n    db.executeSql(`REPLACE INTO Lantern_Events (ID, Name, Todo) VALUES ` + placeholders, parameters);\n\n    parameters = [103, 'Nemesis Encounter - Butcher', ''];\n    db.executeSql(`REPLACE INTO Lantern_Events (ID, Name, Todo) VALUES ` + placeholders, parameters);\n\n    parameters = [104, 'Hands of Heat', ''];\n    db.executeSql(`REPLACE INTO Lantern_Events (ID, Name, Todo) VALUES ` + placeholders, parameters);\n\n    parameters = [105, 'Armored Strangers', ''];\n    db.executeSql(`REPLACE INTO Lantern_Events (ID, Name, Todo) VALUES ` + placeholders, parameters);\n\n    parameters = [106, 'Phoenix Feather', ''];\n    db.executeSql(`REPLACE INTO Lantern_Events (ID, Name, Todo) VALUES ` + placeholders, parameters);\n\n    parameters = [107, 'Nemesis Encounter - King\\'s Man', ''];\n    db.executeSql(`REPLACE INTO Lantern_Events (ID, Name, Todo) VALUES ` + placeholders, parameters);\n\n    parameters = [108, 'Regal Visit', ''];\n    db.executeSql(`REPLACE INTO Lantern_Events (ID, Name, Todo) VALUES ` + placeholders, parameters);\n\n    parameters = [109, 'Principle: Conviction', ''];\n    db.executeSql(`REPLACE INTO Lantern_Events (ID, Name, Todo) VALUES ` + placeholders, parameters);\n\n    parameters = [110, 'Nemesis Encounter', ''];\n    db.executeSql(`REPLACE INTO Lantern_Events (ID, Name, Todo) VALUES ` + placeholders, parameters);\n\n    parameters = [111, 'Watched', ''];\n    db.executeSql(`REPLACE INTO Lantern_Events (ID, Name, Todo) VALUES ` + placeholders, parameters);\n\n    parameters = [112, 'Nemesis Encounter - Level 3', ''];\n    db.executeSql(`REPLACE INTO Lantern_Events (ID, Name, Todo) VALUES ` + placeholders, parameters);\n\n    parameters = [113, 'Nemesis Encounter - Watcher', ''];\n    db.executeSql(`REPLACE INTO Lantern_Events (ID, Name, Todo) VALUES ` + placeholders, parameters);\n\n    parameters = [KDMInitDBService.incrementalID, 'NONE', ''];\n    return db.executeSql(`REPLACE INTO Lantern_Events (ID, Name, Todo) VALUES ` + placeholders, parameters)\n      .then(() => {\n        parameters = [KDMInitDBService.incrementalID];\n        db.executeSql(`DELETE FROM Lantern_Events WHERE id = ?`, parameters);\n      });\n  }\n\n  private createMilestonesTable(db: SQLiteObject): Promise<void> {\n    return db.executeSql('CREATE TABLE IF NOT EXISTS Milestones' +\n      '(' +\n      'Tag varchar(50) NOT NULL,' +\n      'Value INTEGER NOT NULL,' +\n      'ObserverTarget varchar(25) NOT NULL,' +\n      'Comparator INTEGER NOT NULL, ' +\n      'ID INTEGER NOT NULL ' +\n      'CONSTRAINT Key11 PRIMARY KEY AUTOINCREMENT,' +\n      'CONSTRAINT LanternEvents_Milestones_Rel FOREIGN KEY (ID) REFERENCES Lantern_Events (ID) ' +\n      'ON DELETE CASCADE ON UPDATE CASCADE' +\n      ')', []);\n  }\n\n  private fillMilestonesTable(db: SQLiteObject): Promise<void> {\n    let placeholdersMilestone = '(?, ?, ?, ?, ?)';\n    let parametersMilestone = [1, '', 1, 'First child is born', ComparableVisitorValue.EQ];\n    db.executeSql(`REPLACE INTO Milestones (ID, ObserverTarget, Value, Tag, Comparator) VALUES `\n      + placeholdersMilestone, parametersMilestone);\n\n    parametersMilestone = [2, 'DEATHCOUNT', 1, 'First time death count is updated', ComparableVisitorValue.GE];\n    db.executeSql(`REPLACE INTO Milestones (ID, ObserverTarget, Value, Tag, Comparator) VALUES ` +\n      placeholdersMilestone, parametersMilestone);\n\n    parametersMilestone = [3, 'POPULATION', 15, 'Populations reaches 15', ComparableVisitorValue.GE];\n    db.executeSql(`REPLACE INTO Milestones (ID, ObserverTarget, Value, Tag, Comparator) VALUES `\n      + placeholdersMilestone, parametersMilestone);\n\n    parametersMilestone = [4, 'INNOVATION', 5, 'Settlement has 5 innovations', ComparableVisitorValue.GE];\n    db.executeSql(`REPLACE INTO Milestones (ID, ObserverTarget, Value, Tag, Comparator) VALUES `\n      + placeholdersMilestone, parametersMilestone)\n      .catch(exception => console.log(exception));\n\n    parametersMilestone = [5, 'POPULATION', 0, 'Population reaches 0', ComparableVisitorValue.EQ];\n    db.executeSql(`REPLACE INTO Milestones (ID, ObserverTarget, Value, Tag, Comparator) VALUES `\n      + placeholdersMilestone, parametersMilestone);\n\n    return db.executeSql('SELECT * FROM Milestones', []).then(data => {\n      console.log('Milestones after creation: ', data.rows.length);\n      for (let i = 0; i < data.rows.length; i++) {\n        console.log(data.rows.item(i));\n      }\n    });\n\n  }\n\n  private createStoryEventsTable(db: SQLiteObject): Promise<void> {\n    return db.executeSql('CREATE TABLE IF NOT EXISTS Story_Events' +\n      '(' +\n      'Title varchar(50) NOT NULL,' +\n      'Description varchar(250) NOT NULL,' +\n      'ID INTEGER NOT NULL,' +\n      'LanternEventID INTEGER NOT NULL,' +\n      'CONSTRAINT Key13 PRIMARY KEY (ID,LanternEventID),' +\n      'CONSTRAINT LanternEvents_StoryEvents_Rel FOREIGN KEY (LanternEventID) REFERENCES Lantern_Events (ID) ' +\n      'ON DELETE CASCADE ON UPDATE CASCADE' +\n      ')', []);\n  }\n\n  private fillStoryEventsTable(db: SQLiteObject): Promise<void> {\n    let placeholders = '(?, ?, ?, ?)';\n    let parameters = [1, 'First Words', `The nominated survivor steps forward and gains + 1 courage. \n    They lead the other survivors to learn to speak to one another! \n    They discuss their situation, realizing they must hunt to live. \n    Add the White Lion to the Quarry list on the settlement record sheet. \n    Your settlement gains the Language innovation. \n    Search the Innovation cards for Language and place it face up in your play area \n    and record it on your settlement sheet. \n    Language is your first innovation, and it will spark the creation of the innovation deck. \n    Build the Innovation deck now .`, 101];\n    db.executeSql(`REPLACE INTO Story_Events (ID, Title, Description, LanternEventID) VALUES ` + placeholders,\n      parameters);\n\n    parameters = [2, 'Build the Innovation Deck', `The innovation deck represents the potential cultural and technological growth of your settlement. \n    It will grow throughout the campaign as you gain new innovation cards. \n    Find the 6 innovation cards with language consequence listed under their title: \n    Ammonia, Drums, Hovel, Inner Lantern, Paint, and Symposium. \n    Shuttle these 6 cards together to form your settlement's innovation deck. \n    Place it face down in the designated space on the settlement board. \n    The innovation deck is persistent. \n    Make sure to preserve the unique combination of cards in your deck between play sessions. \n    Finished with their work, the settlement gathers around its Glowing Center`, 101];\n    db.executeSql(`REPLACE INTO Story_Events (ID, Title, Description, LanternEventID) VALUES ` + placeholders,\n      parameters);\n\n    parameters = [3, 'Glowing Center', `Armed with language, the nominated survivor aptly names the glowing center of their home \n    The Lantern Hoard. The settlement gains the Lantern Hoard Settlement Location. \n    Search the large Settlement Location cards for the Lantern Hoard and place it face up in your play area. \n    The Lantern Hoard is the source of all innovations and further locations the settlement will develop. \n    The nominated survivor sits in front of the Lantern Hoard in awe and gains + 1 understanding. \n    They must skip the next hunt phase as they ponder the meaning of existence. \n    Check off the skip hunt box on the survivor's record sheet. \n    They cannot be selected as a departing survivor this phase.`, 101];\n    db.executeSql(`REPLACE INTO Story_Events (ID, Title, Description, LanternEventID) VALUES ` + placeholders,\n      parameters);\n\n    parameters = [4, 'The First Harvest', `The settlement decides to harvest the body for resources. \n    The settlement gains the Death Principle: Cannibalize. \n    Find and place the card on the settlement board and note it on the settlement record sheet. \n    After adding the card to the settlement, Roll 1d10. ldlO Result 1 -s \n    The settlement ritualistically divides the corpse with a sharp stone and grimly consumes the dead flesh. \n    Gain a Founding Stone starting gear. All departing survivors gain +3 insanity. 6 - 10 Nominate a survivor. \n    The survivor fanatically tears the corpse open and deeply drinks its blood. \n    They decide that for every new creature they eat, they will become stronger. \n    The survivor gains +1 permanent speed.`, 102];\n    db.executeSql(`REPLACE INTO Story_Events (ID, Title, Description, LanternEventID) VALUES ` + placeholders,\n      parameters);\n\n    parameters = [5, 'The First Grave', `The settlement decides to build a small monument to mark their loss. \n    The settlement gains the Death Principle: Graves. \n    Find and place the card on the settlement board and note it on the settlement record sheet. \n    After adding the card to the settlement, Roll 1d10. \n    ldlO Result 1 - 5 The settlement gathers around the grave, \n    each taking a moment to reflect the loss and their place in the darkness. \n    All departing survivors gain +l survival and +l understanding. 6 -10 Nominate a survivor. \n    With tears in their eyes, the survivor takes a shard of rock from the grave and marks themselves with it. \n    They cherish this mark forever. The survivor gains +l permanent luck.`, 102];\n    db.executeSql(`REPLACE INTO Story_Events (ID, Title, Description, LanternEventID) VALUES ` + placeholders,\n      parameters);\n\n    let placeholdersEvent = '(?, ?, ?)';\n    let parametersEvent = [KDMInitDBService.incrementalID, 'NONE', ''];\n    parameters = [KDMInitDBService.incrementalID, 'NONE', '', KDMInitDBService.incrementalID];\n    return db.executeSql(`REPLACE INTO Lantern_Events (ID, Name, Todo) VALUES ` + placeholdersEvent, parametersEvent)\n      .then(() =>\n        db.executeSql(`REPLACE INTO Story_Events (ID, Title, Description, LanternEventID) VALUES `\n          + placeholders, parameters)\n          .then(() => {\n            parametersEvent = [KDMInitDBService.incrementalID];\n            db.executeSql(`DELETE FROM Lantern_Events WHERE id = ?`, parametersEvent);\n          }),\n      );\n  }\n\n  private createSettlementMilestonesTable(db: SQLiteObject): Promise<void> {\n    return db.executeSql('CREATE TABLE IF NOT EXISTS Settlement_Milestones' +\n      '(' +\n      'SettlementID INTEGER NOT NULL,' +\n      'MilestoneID INTEGER NOT NULL,' +\n      'CONSTRAINT Key14 PRIMARY KEY (SettlementID,MilestoneID),' +\n      'CONSTRAINT Settlement_SettlementMilestones_Rel FOREIGN KEY (SettlementID) REFERENCES Settlements (ID),' +\n      'CONSTRAINT Milestones_SettlementMilestones_Rel FOREIGN KEY (MilestoneID) REFERENCES Milestones (ID) ' +\n      'ON DELETE CASCADE ON UPDATE CASCADE' +\n      ')', []);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/service/kdm_init_db.service.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { NgModule, ErrorHandler } from '@angular/core';\r\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { MyApp } from './app.component';\r\nimport { ContactPage } from '../pages/contact/contact';\r\nimport { TabsPageComponent } from '../pages/tabs/tabs.component';\r\nimport { SettlementsPageComponent } from '../pages/settlements/settlements.component';\r\nimport { SettlementPageComponent } from '../pages/settlement/settlement.component';\r\nimport { KDMDataService } from '../service/kdm_data.service';\r\nimport { CreateSettlementPopoverComponent } from '../pages/popover/create_settlement_popover.component';\r\nimport { TimelineEventModalComponent } from '../pages/timeline/timeline_event_modal.component';\r\nimport { DefeatedMonsterModalComponent } from '../pages/defeated_monster/defeated_monster_modal.component';\r\nimport { AddLinebreakToPunctuationPipe } from '../pipe/add_linebreak_to_punctuation.pipe';\r\nimport { AutoresizeTextareaDirective } from '../directive/autoresize_textarea.directive';\r\nimport { TimelinePageComponent } from '../pages/timeline/timeline.component';\r\nimport { DefeatedMonsterPageComponent } from '../pages/defeated_monster/defeated_monster.component';\r\nimport { StoragePageComponent } from '../pages/storage/storage.component';\r\nimport { KDMCalculationService } from '../service/kdm_calculation.service';\r\nimport { StorageModalComponent } from '../pages/storage/storage_modal.component';\r\nimport { SurvivorsPageComponent } from '../pages/survivors/survivors.component';\r\nimport { SurvivorPageComponent } from '../pages/survivor/survivor.component';\r\nimport { InputNumberComponent } from '../pages/template/input_number.component';\r\nimport { ShowListComponent } from '../pages/template/show_list.component';\r\nimport { ShowListAddModalComponent } from '../pages/template/show_list_add_modal.component';\r\nimport { ShowListDetailComponent } from '../pages/template/show_list_detail.component';\r\nimport { PrinciplesPageComponent } from '../pages/principle/principles.component';\r\nimport { PrincipleChooserPageComponent } from '../pages/principle/principle_chooser.component';\r\nimport { KDMObserverService } from '../service/kdm_observer.service';\r\nimport { KDMDBService } from '../service/kdm_db.service';\r\nimport { SQLite } from '@ionic-native/sqlite';\r\nimport { KDMInitDBService } from '../service/kdm_init_db.service';\r\nimport { HttpModule } from '@angular/http';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    MyApp,\r\n    ContactPage,\r\n    SettlementsPageComponent,\r\n    SettlementPageComponent,\r\n    TimelinePageComponent,\r\n    DefeatedMonsterPageComponent,\r\n    PrinciplesPageComponent,\r\n    PrincipleChooserPageComponent,\r\n    StoragePageComponent,\r\n    SurvivorsPageComponent,\r\n    SurvivorPageComponent,\r\n    InputNumberComponent,\r\n    ShowListComponent,\r\n    ShowListDetailComponent,\r\n    ShowListAddModalComponent,\r\n    TabsPageComponent,\r\n    CreateSettlementPopoverComponent,\r\n    TimelineEventModalComponent,\r\n    DefeatedMonsterModalComponent,\r\n    StorageModalComponent,\r\n    AddLinebreakToPunctuationPipe,\r\n    AutoresizeTextareaDirective,\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    IonicModule.forRoot(MyApp),\r\n    HttpModule,\r\n  ],\r\n  bootstrap: [IonicApp],\r\n  entryComponents: [\r\n    MyApp,\r\n    ContactPage,\r\n    SettlementsPageComponent,\r\n    SettlementPageComponent,\r\n    TimelinePageComponent,\r\n    DefeatedMonsterPageComponent,\r\n    PrinciplesPageComponent,\r\n    PrincipleChooserPageComponent,\r\n    StoragePageComponent,\r\n    SurvivorsPageComponent,\r\n    SurvivorPageComponent,\r\n    ShowListComponent,\r\n    ShowListAddModalComponent,\r\n    ShowListDetailComponent,\r\n    TabsPageComponent,\r\n    CreateSettlementPopoverComponent,\r\n    TimelineEventModalComponent,\r\n    DefeatedMonsterModalComponent,\r\n    StorageModalComponent,\r\n  ],\r\n  providers: [{\r\n    provide: ErrorHandler,\r\n    useClass: IonicErrorHandler,\r\n  },\r\n    KDMDataService,\r\n    KDMCalculationService,\r\n    KDMObserverService,\r\n    StatusBar,\r\n    SplashScreen,\r\n    KDMDBService,\r\n    KDMInitDBService,\r\n    SQLite,\r\n  ],\r\n})\r\nexport class AppModule {\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Injectable } from '@angular/core';\r\nimport { Settlement } from '../model/settlement';\r\nimport { Http } from '@angular/http';\r\nimport { Monster } from '../model/monster';\r\nimport { LanternEvent } from '../model/lantern_event';\r\nimport { Timeline } from '../model/timeline';\r\nimport { Milestone } from '../model/milestone';\r\nimport { Location } from '../model/location';\r\nimport { Resource } from '../model/resource';\r\nimport { Innovation, InnovationTag } from '../model/innovation';\r\nimport { Disorder } from '../model/disorder';\r\nimport { FightingArt } from '../model/fighting_art';\r\nimport { Principle, PrincipleType } from '../model/principle';\r\nimport { JsonToObjectConverter } from '../util/json_to_object_converter';\r\nimport { StoryEvent } from '../model/story_event';\r\nimport { StorageTag } from '../model/storage';\r\n\r\n/**\r\n * Created by Daniel on 28.01.2017.\r\n */\r\n\r\ntype JsonToObjectConverterMethod = (n: string) => any;\r\n\r\n@Injectable()\r\nexport class KDMDataService {\r\n\r\n  settlements: Settlement[] = [];\r\n\r\n  constructor(private http: Http) {\r\n  }\r\n\r\n  getSettlements(): Promise<Settlement[]> {\r\n    return Promise.resolve(this.settlements);\r\n  }\r\n\r\n  addSettlement(settlement: Settlement): void {\r\n    this.getSettlements().then(settlements => {\r\n      if (settlements.length > 0) {\r\n        settlement.id = Math.max.apply(Math, settlements.map(settlement => settlement.id)) + 1;\r\n      } else {\r\n        settlement.id = 1;\r\n      }\r\n      this.settlements.push(settlement);\r\n    });\r\n  }\r\n\r\n  removeSettlement(settlement: Settlement): void {\r\n    this.settlements.splice(this.settlements.indexOf(settlement), 1);\r\n  }\r\n\r\n  getMonsters(): Promise<Monster[]> {\r\n    return this.getGenericList('assets/data/monsters.json', JsonToObjectConverter.convertToMonsterObject);\r\n  }\r\n\r\n  getDefaultInitialHuntableNemesisMonsters(): Promise<Monster[]> {\r\n    return this.getMonsters().then(monsters => monsters.filter(monster => monster.isNemesis));\r\n  }\r\n\r\n  getDefaultInitialHuntableQuarries(): Promise<Monster[]> {\r\n    return this.getMonsters().then(monsters => monsters.filter(monster => !monster.isNemesis));\r\n  }\r\n\r\n  getResources(): Promise<Resource[]> {\r\n    return this.http.get('assets/data/resources.json').toPromise()\r\n      .then(\r\n        res => {\r\n          let data: Resource[] = [];\r\n          res.json().forEach(resourceJson => {\r\n            const tags: StorageTag[] = [];\r\n            resourceJson.tags.forEach((tagName: string) => {\r\n              tags.push(<StorageTag>StorageTag[tagName]);\r\n            });\r\n            data.push(JsonToObjectConverter.converToResourceObject(resourceJson, tags));\r\n          });\r\n          console.log('resources');\r\n          console.log(data);\r\n          return data;\r\n        },\r\n      );\r\n  }\r\n\r\n  getLanternEvents(): Promise<LanternEvent[]> {\r\n    return this.http.get('assets/data/lanternevents.json').toPromise()\r\n      .then(\r\n        res => {\r\n          let data: LanternEvent[] = [];\r\n          res.json().forEach(lanternEventJson => {\r\n            const storyEvents: StoryEvent[] = [];\r\n            lanternEventJson.storyEvents.forEach((storyEventId: number) => {\r\n              this.getStoryEvent(storyEventId).then(storyEvent => storyEvents.push(storyEvent));\r\n            });\r\n            data.push(JsonToObjectConverter.convertToLanternEventObject(lanternEventJson, storyEvents));\r\n          });\r\n          return data;\r\n        },\r\n      );\r\n  }\r\n\r\n  getStoryEvents(): Promise<StoryEvent[]> {\r\n    return this.getGenericList('assets/data/storyevents.json', JsonToObjectConverter.convertToStoryEventObject);\r\n  }\r\n\r\n  getStoryEvent(id: number): Promise<StoryEvent> {\r\n    return this.getStoryEvents().then(storyEvents => storyEvents.find(storyEvent => storyEvent.id === id));\r\n  }\r\n\r\n  getInitialMilestones(): Promise<Milestone[]> {\r\n    return this.http.get('assets/data/milestones.json').toPromise()\r\n      .then(\r\n        res => {\r\n          let data: Milestone[] = [];\r\n          res.json().forEach(milestoneJson => {\r\n            const storyEvents: StoryEvent[] = [];\r\n            milestoneJson.storyEvents.forEach((storyEventId: number) => {\r\n              this.getStoryEvent(storyEventId).then(storyEvent =>\r\n                storyEvents.push(storyEvent));\r\n            });\r\n            data.push(JsonToObjectConverter.convertToMilestoneObject(milestoneJson, storyEvents));\r\n          });\r\n          return data;\r\n        },\r\n      );\r\n  }\r\n\r\n  getDefaultTimeline(): Promise<Timeline[]> {\r\n    return this.getLanternEvents().then(lanternEvents =>\r\n      this.http.get('assets/data/defaulttimeline.json').toPromise()\r\n        .then(\r\n          res => {\r\n            let data: Timeline[] = [];\r\n            res.json().forEach(timelineJson => {\r\n              let event: LanternEvent = lanternEvents.find(x => x.name === timelineJson.lanternEvent);\r\n              data.push(JsonToObjectConverter.convertToTimelineObject(timelineJson, event));\r\n            });\r\n            return data;\r\n          }\r\n        )\r\n    );\r\n  }\r\n\r\n  getSettlementLocations(): Promise<Location[]> {\r\n    return this.getGenericList('assets/data/locations.json', JsonToObjectConverter.convertToLocationObject);\r\n  }\r\n\r\n  getInnovations(): Promise<Innovation[]> {\r\n    return this.http.get('assets/data/innovations.json').toPromise()\r\n      .then(\r\n        res => {\r\n          let data: Innovation[] = [];\r\n          res.json().forEach(innovationJson => {\r\n            const tags: InnovationTag[] = [];\r\n            innovationJson.tags.forEach((tagName: string) => {\r\n              tags.push(<InnovationTag>InnovationTag[tagName]);\r\n            });\r\n            data.push(JsonToObjectConverter.convertToInnovationObject(innovationJson, tags));\r\n          });\r\n          return data;\r\n        },\r\n      );\r\n  }\r\n\r\n  getDisorders(): Promise<Disorder[]> {\r\n    return this.getGenericList('assets/data/disorders.json', JsonToObjectConverter.convertToDisorderObject);\r\n  }\r\n\r\n  getFightingArts(): Promise<FightingArt[]> {\r\n    return this.getGenericList('assets/data/fightingarts.json', JsonToObjectConverter.convertToFightingArtObject);\r\n  }\r\n\r\n  getPrinciples(): Promise<Principle[]> {\r\n    return this.getGenericList('assets/data/principles.json', JsonToObjectConverter.convertToPrincipleObject);\r\n  }\r\n\r\n  getPrincipleTypes(): Promise<PrincipleType[]> {\r\n    return this.getGenericList('assets/data/principletypes.json', JsonToObjectConverter.convertToPrincipleTypeObject);\r\n  }\r\n\r\n  getPrinciplesWithType(principleType: PrincipleType): Promise<Principle[]> {\r\n    return this.getPrinciples().then(principles =>\r\n      principles.filter(principle => principle.type === principleType),\r\n    );\r\n  }\r\n\r\n  getGenericList(file: string, methodCall: JsonToObjectConverterMethod): Promise<any> {\r\n    return this.http.get(file).toPromise()\r\n      .then(\r\n        res => {\r\n          let data: any[] = [];\r\n          res.json().forEach(json => {\r\n            data.push(methodCall(json));\r\n          });\r\n          return data;\r\n        },\r\n      );\r\n  }\r\n\r\n  sortByName(l, r) {\r\n    if (l.name < r.name) {\r\n      return -1;\r\n    }\r\n    if (l.name > r.name) {\r\n      return 1;\r\n    }\r\n    return 0;\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/service/kdm_data.service.ts","import { Component } from '@angular/core';\r\nimport { Platform } from 'ionic-angular';\r\nimport { StatusBar } from '@ionic-native/status-bar';\r\nimport { SplashScreen } from '@ionic-native/splash-screen';\r\nimport { TabsPageComponent } from '../pages/tabs/tabs.component';\r\nimport { KDMDBService } from '../service/kdm_db.service';\r\n\r\n@Component({\r\n  templateUrl: 'app.component.html',\r\n})\r\nexport class MyApp {\r\n  rootPage: any = TabsPageComponent;\r\n\r\n  constructor(platform: Platform,\r\n              private statusBar: StatusBar,\r\n              splashScreen: SplashScreen,\r\n              private db: KDMDBService) {\r\n    platform.ready().then(() => {\r\n      // Okay, so the platform is ready and our plugins are available.\r\n      // Here you can do any higher level native things you might need.\r\n      console.log('platform ready');\r\n      if (platform.is('cordova')) {\r\n        console.log('platform is cordova');\r\n        statusBar.styleDefault();\r\n        splashScreen.hide();\r\n      }\r\n      db.initDB();\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { MonsterResource } from './linking/monster_resource';\r\nimport { Storage } from './storage';\r\nimport { Settlement } from './settlement';\r\n/**\r\n * Created by Daniel on 28.01.2017.\r\n */\r\nexport class  Monster {\r\n  id: number;\r\n  name: string;\r\n  level: number = 1;\r\n  isNemesis: boolean;\r\n  resources: MonsterResource[] = [];\r\n  locations: Location[] = [];\r\n\r\n  constructor(name: string, isNemesis = false) {\r\n    this.name = name;\r\n    this.isNemesis = isNemesis;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/model/monster.ts","import { Storage } from './storage';\r\n/**\r\n * Created by Daniel on 08.02.2017.\r\n */\r\nexport class Resource extends Storage {\r\n  type: ResourceType;\r\n  existingCards: number;\r\n}\r\n\r\nexport enum ResourceType {\r\n  Basic,\r\n  WhiteLion,\r\n  Phoenix,\r\n  ScreamingAntelope,\r\n  Strange,\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/model/resource.ts","import { LanternEvent } from './lantern_event';\r\nimport { Comparable } from './comparable';\r\nimport { ComparableVisitor, ComparableVisitorValue } from './visitor/comparable_visitor';\r\nimport { GreaterThan } from './visitor/greater_than';\r\nimport { LessThan } from './visitor/less_than';\r\nimport { LessThanEquals } from './visitor/less_than_euqals';\r\nimport { Equals } from './visitor/equals';\r\nimport { GreaterThanEquals } from './visitor/greater_than_equals';\r\n\r\n/**\r\n * Created by Daniel on 07.02.2017.\r\n */\r\nexport class Milestone extends LanternEvent implements Comparable {\r\n  id: number;\r\n  tag: string;\r\n  value: number;\r\n  visitor: ComparableVisitor;\r\n  observerTarget: string;\r\n\r\n  constructor(comparator: ComparableVisitorValue) {\r\n    super();\r\n    let compare: ComparableVisitorValue = <ComparableVisitorValue>ComparableVisitorValue[comparator.toString()];\r\n    switch (compare) {\r\n      case ComparableVisitorValue.L:\r\n        this.visitor = new LessThan();\r\n        break;\r\n      case ComparableVisitorValue.LE:\r\n        this.visitor = new LessThanEquals();\r\n        break;\r\n      case ComparableVisitorValue.EQ:\r\n        this.visitor = new Equals();\r\n        break;\r\n      case ComparableVisitorValue.GE:\r\n        this.visitor = new GreaterThanEquals();\r\n        break;\r\n      case ComparableVisitorValue.G:\r\n        this.visitor = new GreaterThan();\r\n        break;\r\n      default:\r\n    }\r\n  }\r\n\r\n  accept(compareValue: string | number): boolean {\r\n    return this.visitor.visit(this, compareValue);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/model/milestone.ts","import { StoryEvent } from './story_event';\r\n/**\r\n * Created by Daniel on 27.01.2017.\r\n */\r\nexport class LanternEvent {\r\n  name: string;\r\n  todo: string;\r\n  storyEvents: StoryEvent[] = [];\r\n\r\n  constructor(name = '') {\r\n    this.name = name;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/model/lantern_event.ts","import { ComparableVisitor } from './comparable_visitor';\nimport { Milestone } from '../milestone';\n/**\n * Created by Daniel on 10.02.2017.\n */\nexport class GreaterThan implements ComparableVisitor {\n  visit(milestone: Milestone, compareValue: string|number): boolean {\n    return compareValue > milestone.value;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/model/visitor/greater_than.ts","import { ComparableVisitor } from './comparable_visitor';\nimport { Milestone } from '../milestone';\n/**\n * Created by Daniel on 10.02.2017.\n */\nexport class LessThan implements ComparableVisitor {\n  visit(milestone: Milestone, compareValue: string|number): boolean {\n    return compareValue < milestone.value;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/model/visitor/less_than.ts","import { ComparableVisitor } from './comparable_visitor';\nimport { Milestone } from '../milestone';\n/**\n * Created by Daniel on 10.02.2017.\n */\nexport class LessThanEquals implements ComparableVisitor {\n  visit(milestone: Milestone, compareValue: string|number): boolean {\n    return compareValue <= milestone.value;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/model/visitor/less_than_euqals.ts","import { ComparableVisitor } from './comparable_visitor';\nimport { Milestone } from '../milestone';\n/**\n * Created by Daniel on 10.02.2017.\n */\nexport class Equals implements ComparableVisitor {\n  visit(milestone: Milestone, compareValue: string|number): boolean {\n    return compareValue === milestone.value;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/model/visitor/equals.ts","import { ComparableVisitor } from './comparable_visitor';\nimport { Milestone } from '../milestone';\n/**\n * Created by Daniel on 10.02.2017.\n */\nexport class GreaterThanEquals implements ComparableVisitor {\n  visit(milestone: Milestone, compareValue: string|number): boolean {\n    return compareValue >= milestone.value;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/model/visitor/greater_than_equals.ts","import { Settlement } from '../settlement';\r\nimport { Monster } from '../monster';\r\nimport { Storage } from '../storage';\r\n/**\r\n * Created by Daniel on 26.05.2017.\r\n */\r\nexport class HuntedMonster {\r\n  settlement: Settlement;\r\n  monster: Monster;\r\n  huntedResources: Storage[] = [];\r\n\r\n  constructor(settlement: Settlement, monster: Monster) {\r\n    this.settlement = settlement;\r\n    this.monster = monster;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/model/linking/hunted_monster.ts","import { BaseModel } from './base_model';\r\n\r\n/**\r\n * Created by Daniel on 23.04.2017.\r\n */\r\nexport class Principle extends BaseModel {\r\n  type: PrincipleType;\r\n}\r\n\r\nexport class PrincipleType {\r\n  name: string;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/model/principle.ts","import { Settlement } from '../settlement';\r\nimport { Timeline } from '../timeline';\r\n/**\r\n * Created by Daniel on 21.03.2017.\r\n */\r\nexport class SettlementTimeline {\r\n  settlement: Settlement;\r\n  timeline: Timeline;\r\n  reached: boolean = false;\r\n\r\n  constructor(settlement: Settlement, timeline: Timeline) {\r\n    this.settlement = settlement;\r\n    this.timeline = timeline;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/model/linking/settlement_timeline.ts","import { LanternEvent } from '../lantern_event';\r\nimport { Settlement } from '../settlement';\r\n/**\r\n * Created by Daniel on 26.03.2017.\r\n */\r\nexport class SettlementLanternEvent {\r\n  reached: boolean = false;\r\n  settlement: Settlement;\r\n  lanternEvent: LanternEvent;\r\n\r\n  constructor(settlement: Settlement, lanternEvent: LanternEvent) {\r\n    this.settlement = settlement;\r\n    this.lanternEvent = lanternEvent;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/model/linking/settlement_lantern_event.ts","import { Monster } from '../monster';\r\nimport { Settlement } from '../settlement';\r\n/**\r\n * Created by Daniel on 26.05.2017.\r\n */\r\nexport class HuntableMonster {\r\n  settlement: Settlement;\r\n  monster: Monster;\r\n  isHuntable: boolean = false;\r\n  defeatedLevelOne: boolean = false;\r\n  defeatedLevelTwo: boolean = false;\r\n  defeatedLevelThree: boolean = false;\r\n\r\n  constructor(settlement: Settlement, monster: Monster) {\r\n    this.settlement = settlement;\r\n    this.monster = monster;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/model/linking/huntable_monster.ts","import { Component } from '@angular/core';\nimport { ViewController, NavParams } from 'ionic-angular';\nimport { Settlement } from '../../model/settlement';\n/**\n * Created by Daniel on 04.02.2017.\n */\n@Component({\n  selector: 'kdmf-create-settlement-popover',\n  templateUrl: 'create_settlement_popover.component.html',\n})\nexport class CreateSettlementPopoverComponent {\n  settlement: Settlement;\n\n  constructor(public viewCtrl: ViewController, private params: NavParams) {\n    this.settlement = this.params.get('se');\n  }\n\n  close() {\n    this.viewCtrl.dismiss();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/popover/create_settlement_popover.component.ts","import { PipeTransform, Pipe } from '@angular/core';\n/**\n * Created by Daniel on 08.02.2017.\n */\n@Pipe({name: 'addLinebreakToPunctuationPipe'})\nexport class AddLinebreakToPunctuationPipe implements PipeTransform {\n  transform(value: string, ...args: string[]): any {\n    let regex = new RegExp(/\\.\\s/, 'g');\n    let text = value.replace(regex, '.\\n');\n    regex = new RegExp(/!\\s/, 'g');\n    text = text.replace(regex, '!\\n');\n    regex = new RegExp(/\\?\\s/, 'g');\n    text = text.replace(regex, '?\\n');\n    return text;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipe/add_linebreak_to_punctuation.pipe.ts","/**\n * Created by Daniel on 08.02.2017.\n * from: https://gist.github.com/maxt3r/2485356e91a1969bdb6cf54902e61165\n */\nimport { Directive, HostListener, ElementRef, OnInit, AfterViewChecked } from '@angular/core';\n\n@Directive({\n  selector: 'ion-textarea[autoresize]', // Attribute selector\n})\nexport class AutoresizeTextareaDirective implements OnInit, AfterViewChecked {\n\n  @HostListener('input', ['$event.target'])\n  onInput(textArea: HTMLTextAreaElement): void {\n    this.adjust();\n  }\n\n  constructor(public element: ElementRef) {\n  }\n\n  ngOnInit(): void {\n    this.adjust();\n  }\n\n  ngAfterViewChecked(): void {\n    this.adjust();\n  }\n\n  adjust(): void {\n    let ta = this.element.nativeElement.querySelector('textarea');\n    if (ta) {\n      ta.style.overflow = 'hidden';\n      ta.style.height = 'auto';\n      ta.style.height = ta.scrollHeight + 'px';\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/directive/autoresize_textarea.directive.ts","import { Component, Input, Output, EventEmitter, OnInit } from '@angular/core';\r\nimport { FormControl } from '@angular/forms';\r\n\r\n/**\r\n * Created by Daniel on 15.03.2017.\r\n */\r\n@Component({\r\n  selector: 'kdmf-input-number',\r\n  templateUrl: 'input_number.component.html',\r\n})\r\nexport class InputNumberComponent implements OnInit {\r\n  init: boolean = true;\r\n\r\n  @Input()\r\n  value: number;\r\n\r\n  @Output()\r\n  change: EventEmitter<number> = new EventEmitter<number>();\r\n\r\n  valueControl: FormControl = new FormControl();\r\n\r\n  ngOnInit(): void {\r\n    this.setupControl();\r\n  }\r\n\r\n  increaseValue() {\r\n    this.value++;\r\n    this.change.emit(this.value);\r\n  }\r\n\r\n  decreaseValue() {\r\n    if (this.value > 0) {\r\n      this.value--;\r\n      this.change.emit(this.value);\r\n    }\r\n  }\r\n\r\n  private setupControl(): void {\r\n    this.valueControl.valueChanges.subscribe((value) => {\r\n      // ignore the initial setting of the formControl\r\n      if (!this.init) {\r\n        if (!this.init && typeof value === 'number') {\r\n          this.change.emit(value);\r\n        } else if (typeof value === 'string') {\r\n          this.change.emit(+value);\r\n        }\r\n      } else {\r\n        this.init = false;\r\n      }\r\n    });\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/template/input_number.component.ts","import { Component } from '@angular/core';\nimport { ViewController, NavParams } from 'ionic-angular';\nimport { LanternEvent } from '../../model/lantern_event';\n/**\n * Created by Daniel on 04.02.2017.\n */\n@Component({\n  selector: 'kdmf-timeline-event-modal',\n  templateUrl: 'timeline_event_modal.component.html',\n})\nexport class TimelineEventModalComponent {\n  lanternEvent: LanternEvent;\n\n  constructor(public viewCtrl: ViewController, private params: NavParams) {\n    this.lanternEvent = this.params.get('lanternEvent');\n  }\n\n  close() {\n    this.viewCtrl.dismiss();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/timeline/timeline_event_modal.component.ts","/**\r\n * Created by Daniel on 16.03.2017.\r\n */\r\nexport enum ShowListTypes {\r\n  FightingArt,\r\n  Disorder,\r\n  Innovation,\r\n  Location,\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/model/show_list_types.ts"],"sourceRoot":""}